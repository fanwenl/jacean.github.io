<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jacean say Hello</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jacean.github.io/"/>
  <updated>2016-04-15T15:55:19.827Z</updated>
  <id>http://jacean.github.io/</id>
  
  <author>
    <name>Jacean Wan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>github配置webhooks实现博客自动部署到服务器</title>
    <link href="http://jacean.github.io/2016/04/15/github%E9%85%8D%E7%BD%AEwebhooks%E5%AE%9E%E7%8E%B0%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>http://jacean.github.io/2016/04/15/github配置webhooks实现博客自动部署到服务器/</id>
    <published>2016-04-15T12:26:44.000Z</published>
    <updated>2016-04-15T15:55:19.827Z</updated>
    
    <content type="html">&lt;p&gt;最近买了腾讯云的服务器,就想着把博客迁移到腾讯云,毕竟github在国内的访问速度有限而且百度也不搜索.&lt;br&gt;但是,总不能每次push到github,还需要跑到服务器去pull吧,那可真是呵呵了就.&lt;br&gt;索性,github提供了webhooks来自定义git相关的执行动作,所以就试试咯~&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;首先在本地新建hook文件,以便后期github检测到改变动作后来执行,让服务器同步更新.&lt;br&gt;这个文件可以是各种类型.比如,php.&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Content-Type: text/html;charset=utf-8&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;error_reporting(&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;date_default_timezone_set(&lt;span class=&quot;string&quot;&gt;&#39;UTC&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;define(&lt;span class=&quot;string&quot;&gt;&quot;WWW_ROOT&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;C:\\xampp\\htdocs\\jacean.github.io&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;define(&lt;span class=&quot;string&quot;&gt;&quot;LOG_FILE&quot;&lt;/span&gt;, WWW_ROOT.&lt;span class=&quot;string&quot;&gt;&quot;\\git-hook.log&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$output=exec(WWW_ROOT.&lt;span class=&quot;string&quot;&gt;&quot;\\githook.bat&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $output;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;file_put_contents(LOG_FILE, $output, FILE_APPEND);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后在github,你的项目中,设置,webhooks&amp;amp;servies,add webhooks.&lt;/p&gt;
&lt;p&gt;添加后,github会自动ping一下,如果正确能连上的话,会给你一个小绿对勾在url的前面.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近买了腾讯云的服务器,就想着把博客迁移到腾讯云,毕竟github在国内的访问速度有限而且百度也不搜索.&lt;br&gt;但是,总不能每次push到github,还需要跑到服务器去pull吧,那可真是呵呵了就.&lt;br&gt;索性,github提供了webhooks来自定义git相关的执行动作,所以就试试咯~&lt;br&gt;
    
    </summary>
    
    
      <category term="Github" scheme="http://jacean.github.io/tags/Github/"/>
    
      <category term="webhooks" scheme="http://jacean.github.io/tags/webhooks/"/>
    
  </entry>
  
  <entry>
    <title>vscode配置C/C++的编译调试环境</title>
    <link href="http://jacean.github.io/2016/04/04/vscode%E9%85%8D%E7%BD%AEC-C-%E7%9A%84%E7%BC%96%E8%AF%91%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83/"/>
    <id>http://jacean.github.io/2016/04/04/vscode配置C-C-的编译调试环境/</id>
    <published>2016-04-04T15:11:08.000Z</published>
    <updated>2016-04-04T16:37:25.090Z</updated>
    
    <content type="html">&lt;p&gt;传说中的编辑器有两个，vim和emacs，一个是编辑器之神，一个是神的编辑器。然后又有众多小神，是两极多强格局。&lt;br&gt;然后，软爹说，要有我，于是vscode从天而降，带着继承自vs强大的智能，体积却极其轻简，同时支持插件，而且流畅至极，一脚踏进了编辑器之战。&lt;br&gt;于是，感觉要变天了。&lt;br&gt;用着轻量的编辑器，却又想把编辑器打造成IDE，，，于是开始了Debug插件的配置。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装DEBUG&quot;&gt;&lt;a href=&quot;#安装DEBUG&quot; class=&quot;headerlink&quot; title=&quot;安装DEBUG&quot;&gt;&lt;/a&gt;安装DEBUG&lt;/h2&gt;&lt;p&gt;本来有一款C/C++的插件，是利用微软的CLI的，但是Ubuntu15.10不在支持之列，在尝试无果之后只能放弃，万幸还有Debug.&lt;br&gt;ctrl-p，呼出命令行，输入&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ext install debug&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;回车就可安装debug插件了。也可以在&lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=webfreak.debug&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;vscodemarket&lt;/a&gt;里自己找.&lt;/p&gt;
&lt;h2 id=&quot;调试，配置launch-json&quot;&gt;&lt;a href=&quot;#调试，配置launch-json&quot; class=&quot;headerlink&quot; title=&quot;调试，配置launch.json&quot;&gt;&lt;/a&gt;调试，配置launch.json&lt;/h2&gt;&lt;p&gt;插件安装好后，打开C项目，选中调试栏的齿轮设置，在弹出的下拉列表里选择debug，会自动生成一分launch.json,但是还不能直接用的，需要改改。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;version&amp;quot;: &amp;quot;0.2.0&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;configurations&amp;quot;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;name&amp;quot;: &amp;quot;Debug&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;type&amp;quot;: &amp;quot;gdb&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;request&amp;quot;: &amp;quot;launch&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;target&amp;quot;: &amp;quot;./bin/executable&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;cwd&amp;quot;: &amp;quot;$&amp;#123;workspaceRoot&amp;#125;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其他的不多说了，主要就说下target，这个是gdb调试的目标，所以就应该是编译后的文件对吧。&lt;br&gt;那好，比如我有hello.c，那么在终端,首先切换到项目根目录，方便解释，然后执行如下，&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;gcc -g hello.c -o hello&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;会生成编译后的hello文件，要调试的话就把gdb的targe指向这个文件，需要修改如下:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;version&amp;quot;: &amp;quot;0.2.0&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;configurations&amp;quot;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;name&amp;quot;: &amp;quot;Debug&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;type&amp;quot;: &amp;quot;gdb&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;request&amp;quot;: &amp;quot;launch&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;target&amp;quot;: &amp;quot;hello&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;cwd&amp;quot;: &amp;quot;$&amp;#123;workspaceRoot&amp;#125;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这时候在vscode里，点击绿色小三角，或是F5，就可以进行调试了。&lt;br&gt;可以在vscode的控制台里看到输出。如果需要输入，那么在最下面的命令输入里输入就好，不过那个只有单行显示，cry…&lt;br&gt;第一步至此完成了，可以用debug来调试了。&lt;/p&gt;
&lt;h2 id=&quot;编译，配置tasks-json&quot;&gt;&lt;a href=&quot;#编译，配置tasks-json&quot; class=&quot;headerlink&quot; title=&quot;编译，配置tasks.json&quot;&gt;&lt;/a&gt;编译，配置tasks.json&lt;/h2&gt;&lt;p&gt;如果每次都需要在外面编译后再来手动调试，无疑很烦，最好是在F5的时候先编译再执行调试，对吧。&lt;br&gt;vscode支持定义预处理任务，ctrl+shift-p,输入&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;configure task runner&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;会自动生成一分tasks.json，里面有许多例子。咱们就只改改第一个就好，其他的先删掉。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// Available variables which can be used inside of strings.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// $&amp;#123;workspaceRoot&amp;#125;: the root folder of the team        # /home/jacean/workspace/C/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// $&amp;#123;file&amp;#125;: the current opened file                     # /home/jacean/workspace/C/hello.c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// $&amp;#123;fileBasename&amp;#125;: the current opened file&amp;apos;s basename  # hello.c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// $&amp;#123;fileDirname&amp;#125;: the current opened file&amp;apos;s dirname    # /home/jacean/workspace/C/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// $&amp;#123;fileExtname&amp;#125;: the current opened file&amp;apos;s extension  #.c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// $&amp;#123;cwd&amp;#125;: the current working directory of the spawned process&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// A task runner that calls the Typescript compiler (tsc) and&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// Compiles a HelloWorld.ts program&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;version&amp;quot;: &amp;quot;0.1.0&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;command&amp;quot;: &amp;quot;tsc&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;isShellCommand&amp;quot;: true,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;showOutput&amp;quot;: &amp;quot;silent&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;args&amp;quot;: [&amp;quot;HelloWorld.ts&amp;quot;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;problemMatcher&amp;quot;: &amp;quot;$tsc&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最开始是一些替换变量，假设我的文件hello.c的完全路径是&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/home/jacean/workspace/C/hello.c&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;那么，那些变量对应的依次就是代码里#之后的,是项目空间路径，文件名，文件去除前缀，文件扩展名，文件所在目录，最后一个是衍生进程的目录(不太清楚).&lt;br&gt;这是预执行，那就是要执行那句编译命令了，所以修改如下&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;version&amp;quot;: &amp;quot;0.1.0&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;command&amp;quot;: &amp;quot;gcc&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;args&amp;quot;: [&amp;quot;-g&amp;quot;, &amp;quot;hello.c&amp;quot;, &amp;quot;-o&amp;quot;, &amp;quot;hello&amp;quot;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;problemMatcher&amp;quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;quot;owner&amp;quot;: &amp;quot;cpp&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;quot;fileLocation&amp;quot;: [&amp;quot;relative&amp;quot;, &amp;quot;$&amp;#123;workspaceRoot&amp;#125;&amp;quot;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;quot;pattern&amp;quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;regexp&amp;quot;: &amp;quot;^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;file&amp;quot;: 1,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;line&amp;quot;: 2,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;column&amp;quot;: 3,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;severity&amp;quot;: 4,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;message&amp;quot;: 5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这个在官方说明里有，可以自己找找。然后直接F5，正常调试了。要是不信就删掉hello，然后重新来一次吧。&lt;br&gt;至此，就实现了一步编译调试。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/vscode-c-debug.jpg&quot; alt=&quot;调试展示&quot;&gt;&lt;/p&gt;
&lt;p&gt;但是，每次都只针对一个文件，换个文件不是又要改，不能容忍，所以继续往下看。&lt;/p&gt;
&lt;h2 id=&quot;自动编译当前打开文件并启动调试&quot;&gt;&lt;a href=&quot;#自动编译当前打开文件并启动调试&quot; class=&quot;headerlink&quot; title=&quot;自动编译当前打开文件并启动调试&quot;&gt;&lt;/a&gt;自动编译当前打开文件并启动调试&lt;/h2&gt;&lt;p&gt;这时候就需要那几个替换变量，把需要改变的用变量来替换。修改后如下:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//launch.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;quot;version&amp;quot;: &amp;quot;0.2.0&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;quot;configurations&amp;quot;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;quot;name&amp;quot;: &amp;quot;Debug&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;quot;type&amp;quot;: &amp;quot;gdb&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;quot;request&amp;quot;: &amp;quot;launch&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;quot;target&amp;quot;: &amp;quot;$&amp;#123;file&amp;#125;.o&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;quot;cwd&amp;quot;: &amp;quot;$&amp;#123;workspaceRoot&amp;#125;&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;preLaunchTask&amp;quot;: &amp;quot;gcc&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//tasks.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;version&amp;quot;: &amp;quot;0.1.0&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;command&amp;quot;: &amp;quot;gcc&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;args&amp;quot;: [&amp;quot;-g&amp;quot;, &amp;quot;$&amp;#123;file&amp;#125;&amp;quot;, &amp;quot;-o&amp;quot;, &amp;quot;$&amp;#123;file&amp;#125;.o&amp;quot;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;problemMatcher&amp;quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;quot;owner&amp;quot;: &amp;quot;cpp&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;quot;fileLocation&amp;quot;: [&amp;quot;relative&amp;quot;, &amp;quot;$&amp;#123;workspaceRoot&amp;#125;&amp;quot;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;quot;pattern&amp;quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;regexp&amp;quot;: &amp;quot;^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;file&amp;quot;: 1,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;line&amp;quot;: 2,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;column&amp;quot;: 3,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;severity&amp;quot;: 4,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;message&amp;quot;: 5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;表骂我为什么要在后面加个o，因为我不知道怎么去除后缀。。。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;basename hello.c .c&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;要是能这样我就这样了，就是不会，所以只能变丑点，生成hello.c.o了。不过，反正编译对象人家又不看你长啥样，只要心灵美就行了不是。&lt;br&gt;然后，选中任意一个.c文件，F5或是绿三角，就会看到如愿以偿的可以调试了。虽然多出了个丑丑的.c.o。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/cs-code-debug-2.jpg&quot; alt=&quot;多出的.c.o&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;教训&quot;&gt;&lt;a href=&quot;#教训&quot; class=&quot;headerlink&quot; title=&quot;教训&quot;&gt;&lt;/a&gt;教训&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;如果gcc后面的参数没有-g，那就不会生成可以调试的文件了，一定要有，否则F5会报错的。详情请参阅gcc命令。&lt;blockquote&gt;
&lt;p&gt;Debug adapter process has terminated unexpectedly&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li&gt;最坑爹的，坑了我大半天时间的，就是权限问题。我的vscode文件夹在/opt/下，所以即使是配置好了其他的，调试也是报错&lt;blockquote&gt;
&lt;p&gt;Debug adapter process has terminated unexpectedly&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最后实在无奈，快要放弃的时候想起来这是Ubuntu，可能和权限有关，于是把文件夹拷出来，放到home/jacean下，运行，然后再配，就好了，欲哭无泪啊！！！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;传说中的编辑器有两个，vim和emacs，一个是编辑器之神，一个是神的编辑器。然后又有众多小神，是两极多强格局。&lt;br&gt;然后，软爹说，要有我，于是vscode从天而降，带着继承自vs强大的智能，体积却极其轻简，同时支持插件，而且流畅至极，一脚踏进了编辑器之战。&lt;br&gt;于是，感觉要变天了。&lt;br&gt;用着轻量的编辑器，却又想把编辑器打造成IDE，，，于是开始了Debug插件的配置。&lt;br&gt;
    
    </summary>
    
    
      <category term="vscode" scheme="http://jacean.github.io/tags/vscode/"/>
    
      <category term="c/c++" scheme="http://jacean.github.io/tags/c-c/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安装xampp并配置xdebug利用vscode调试php</title>
    <link href="http://jacean.github.io/2016/04/04/Ubuntu%E5%AE%89%E8%A3%85xampp%E5%B9%B6%E9%85%8D%E7%BD%AExdebug%E5%88%A9%E7%94%A8vscode%E8%B0%83%E8%AF%95php/"/>
    <id>http://jacean.github.io/2016/04/04/Ubuntu安装xampp并配置xdebug利用vscode调试php/</id>
    <published>2016-04-04T08:02:54.000Z</published>
    <updated>2016-04-08T10:18:52.358Z</updated>
    
    <content type="html">&lt;h2 id=&quot;安装XAMPP&quot;&gt;&lt;a href=&quot;#安装XAMPP&quot; class=&quot;headerlink&quot; title=&quot;安装XAMPP&quot;&gt;&lt;/a&gt;安装XAMPP&lt;/h2&gt;&lt;p&gt;去xampp官网下载对应版本，ubuntu会下载.run文件。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo mv xampp-linux-x64-5.6.19-0-installer.run  /opt/&lt;/p&gt;
&lt;p&gt;cd /opt/&lt;/p&gt;
&lt;p&gt;sudo -s&lt;/p&gt;
&lt;p&gt;chmod 755 xampp-linux-x64-5.6.19-0-installer.run &lt;/p&gt;
&lt;p&gt;./xampp-linux-x64-5.6.19-0-installer.run &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;依次执行上面命令，就会打开xampp的安装窗口，安装就好。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;vscode安装插件&quot;&gt;&lt;a href=&quot;#vscode安装插件&quot; class=&quot;headerlink&quot; title=&quot;vscode安装插件&quot;&gt;&lt;/a&gt;vscode安装插件&lt;/h2&gt;&lt;p&gt;ctrl-p调出控制，输入&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ext install php-debug.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装完毕，然后在vscode的usersetting里添加如下:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Points to the php executable.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;quot;php.validate.executablePath&amp;quot;: &amp;quot;/opt/lampp/bin/php&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;指定php的路径，然后需要配置xdebug。&lt;/p&gt;
&lt;h2 id=&quot;配置xdebug&quot;&gt;&lt;a href=&quot;#配置xdebug&quot; class=&quot;headerlink&quot; title=&quot;配置xdebug&quot;&gt;&lt;/a&gt;配置xdebug&lt;/h2&gt;&lt;p&gt;首先去xdebug官网下载source，然后执行如下命令解压：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;tar -zxf xdebug-2.4.0.tgz&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;执行phpize&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;cd xdebug-2.4.0/&lt;/p&gt;
&lt;p&gt;/opt/lampp/bin/phpize&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;显示如下，&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Configuring for:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP Api Version:         20131106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Zend Module Api No:      20131226&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Zend Extension Api No:   220131226&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Cannot find autoconf. Please check your autoconf installation and the&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$PHP_AUTOCONF environment variable. Then, rerun this script.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;从提示看出我是缺了东西了，那就装上，执行命令如下&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo apt-get install autoconf&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;再次执行&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt; /opt/lampp/bin/phpize&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Configuring for:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP Api Version:         20131106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Zend Module Api No:      20131226&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Zend Extension Api No:   220131226&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;现在可以看出是正常了，可以继续了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt; ./configure –enable-xdebug –with-php-config=/opt/lampp/bin/php-config&lt;/p&gt;
&lt;p&gt;sudo make&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;执行后显示&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;xxxxxxxxxxxxxx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;----------------------------------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Build complete.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Don&amp;apos;t forget to run &amp;apos;make test&amp;apos;.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;那我就试一试。。。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;make test&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Build complete.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Don&amp;apos;t forget to run &amp;apos;make test&amp;apos;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;=====================================================================&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP         : /opt/lampp/bin/php &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP_SAPI    : cli&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP_VERSION : 5.6.19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ZEND_VERSION: 2.6.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP_OS      : Linux - Linux jacean-Ubuntu 4.2.0-34-generic #39-Ubuntu SMP Thu Mar 10 22:13:01 UTC 2016 x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;INI actual  : /home/jacean/文档/xdebug-2.4.0/tmp-php.ini&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;More .INIs  :  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CWD         : /home/jacean/文档/xdebug-2.4.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Extra dirs  : &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;VALGRIND    : Not used&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;=====================================================================&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TIME START 2016-04-04 08:30:01&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;=====================================================================&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;No tests were run.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后安装&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo make install&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Installing shared extensions:     /opt/lampp/lib/php/extensions/no-debug-non-zts-20131226/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  +----------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |                                                                      |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   INSTALLATION INSTRUCTIONS                                          |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   =========================                                          |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |                                                                      |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   See http://xdebug.org/install.php#configure-php for instructions   |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   on how to enable Xdebug for PHP.                                   |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |                                                                      |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   Documentation is available online as well:                         |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   - A list of all settings:  http://xdebug.org/docs-settings.php     |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   - A list of all functions: http://xdebug.org/docs-functions.php    |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   - Profiling instructions:  http://xdebug.org/docs-profiling2.php   |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   - Remote debugging:        http://xdebug.org/docs-debugger.php     |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |                                                                      |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |                                                                      |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   NOTE: Please disregard the message                                 |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |       You should add &amp;quot;extension=xdebug.so&amp;quot; to php.ini                |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   that is emitted by the PECL installer. This does not work for      |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |   Xdebug.                                                            |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  |                                                                      |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  +----------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接下来就是配置php.ini，&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo gvim /opt/lampp/etc/php.ini&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;末尾添加&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[Xdebug]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;zend_extension=/opt/lampp/lib/php/extensions/no-debug-non-zts-20131226/xdebug.so&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xdebug.profiler_enable=on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xdebug.trace_output_dir=&amp;quot;../xdebug&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xdebug.profile_output_dir=&amp;quot;../xdebug&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xdebug.remote_enable = 1        //这两行远程是配合vscode的&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xdebug.remote_autostart = 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后重启ｘａｍｐｐ，在phpinfo页面就可以看到有关ｘｄｅｂｕｇ的信息了。&lt;/p&gt;
&lt;h2 id=&quot;启动调试&quot;&gt;&lt;a href=&quot;#启动调试&quot; class=&quot;headerlink&quot; title=&quot;启动调试&quot;&gt;&lt;/a&gt;启动调试&lt;/h2&gt;&lt;p&gt;xampp默认的网站根目录是htdocs，因为/opt/lamp/htdocs的操作是需要root权限的，很不方便，所以就把根目录改一下。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;mkdir ~/workspace/WEB&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然后修改httpd.conf,在/opt/lamp/etc下。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo gvim httpd.conf&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;修改&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# DocumentRoot &amp;quot;/opt/lampp/htdocs&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &amp;lt; Directory &amp;quot;/opt/lampp/htdocs&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DocumentRoot &amp;quot;/home/jacean/workspace/WEB&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt; Directory &amp;quot;/home/jacean/workspace/WEB&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;em&gt;我在&amp;lt;&amp;gt;之间加了一个空格，是为了避免markdown格式显示，应该删掉。&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;然后，在WEB目录下新建index.php，保存。&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$a=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$b=&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$c=$a-$b;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$d=$c+$b;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;strong&amp;gt;hello world!&amp;lt;/strong&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后加断点，比如我加到$c那一行。&lt;br&gt;记得在ｄｅｂｕｇ栏中选择设置齿轮，在下拉中选中php debug，会自动生成lanch.json文件，&lt;br&gt;然后再点击绿三角运行。&lt;br&gt;启动调试监听，&lt;br&gt;重启xampp，进入localhost。可以看到vscode自动弹出并标识在断点处，此时可以查看变量等等常用调试操作。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoblog-img-vscode-php-debug.jpg&quot; alt=&quot;php_debug&quot;&gt;&lt;/p&gt;
&lt;p&gt;至此，大功告成！！！&lt;/p&gt;
&lt;h2 id=&quot;xampp启动&quot;&gt;&lt;a href=&quot;#xampp启动&quot; class=&quot;headerlink&quot; title=&quot;xampp启动&quot;&gt;&lt;/a&gt;xampp启动&lt;/h2&gt;&lt;p&gt;要启动xampp桌面程序，可以在命令行输入&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;cd /opt/lampp&lt;br&gt;sudo ./manager-linux-x64.run&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;直接命令行启动&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;lampp start&lt;br&gt;lampp stop&lt;br&gt;lampp restart&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;只启动和停止Apache：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/opt/lampp/lampp startapache(stopapache)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;只启动和停止MySQL：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/opt/lampp/lampp startmysql(stopmysql)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;只启动和停止ProFTPD服务器：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/opt/lampp/lampp startftp(stopftp)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;启动和停止Apache的SSL支持：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/opt/lampp/lampp startssl(stopssl)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;取消自启动：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ln –s /opt/lampp/lampp K01lampp&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;卸载XAMPP:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;rm –rf /opt/lampp&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安装XAMPP&quot;&gt;&lt;a href=&quot;#安装XAMPP&quot; class=&quot;headerlink&quot; title=&quot;安装XAMPP&quot;&gt;&lt;/a&gt;安装XAMPP&lt;/h2&gt;&lt;p&gt;去xampp官网下载对应版本，ubuntu会下载.run文件。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo mv xampp-linux-x64-5.6.19-0-installer.run  /opt/&lt;/p&gt;
&lt;p&gt;cd /opt/&lt;/p&gt;
&lt;p&gt;sudo -s&lt;/p&gt;
&lt;p&gt;chmod 755 xampp-linux-x64-5.6.19-0-installer.run &lt;/p&gt;
&lt;p&gt;./xampp-linux-x64-5.6.19-0-installer.run &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;依次执行上面命令，就会打开xampp的安装窗口，安装就好。&lt;br&gt;
    
    </summary>
    
    
      <category term="Ubuntu" scheme="http://jacean.github.io/tags/Ubuntu/"/>
    
      <category term="php" scheme="http://jacean.github.io/tags/php/"/>
    
      <category term="vscode" scheme="http://jacean.github.io/tags/vscode/"/>
    
  </entry>
  
  <entry>
    <title>CSS设置DOM宽高的一些小tips</title>
    <link href="http://jacean.github.io/2016/04/02/CSS%E8%AE%BE%E7%BD%AEDOM%E5%AE%BD%E9%AB%98%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8Ftips/"/>
    <id>http://jacean.github.io/2016/04/02/CSS设置DOM宽高的一些小tips/</id>
    <published>2016-04-02T13:29:36.000Z</published>
    <updated>2016-04-02T13:44:12.890Z</updated>
    
    <content type="html">&lt;p&gt;做前端开发总会有一些小技巧需要用到，虽然简单，但是也很容易忘记。所以从现在开始就在这记录下一些感觉比较好玩的小tips。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;高度等于宽度&quot;&gt;&lt;a href=&quot;#高度等于宽度&quot; class=&quot;headerlink&quot; title=&quot;高度等于宽度&quot;&gt;&lt;/a&gt;高度等于宽度&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;用js自然很简单了&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;string&quot;&gt;&quot;#ss&quot;&lt;/span&gt;).attr(&lt;span class=&quot;string&quot;&gt;&quot;height&quot;&lt;/span&gt;,$(&lt;span class=&quot;string&quot;&gt;&quot;#ss&quot;&lt;/span&gt;).attr(&lt;span class=&quot;string&quot;&gt;&quot;width&quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;利用padding撑开&lt;br&gt;padding是依靠宽度来定大小的，百分比完全依赖于宽度&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#container&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           width: 100%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           height: 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           padding-bottom: 100%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;高度等于屏高&quot;&gt;&lt;a href=&quot;#高度等于屏高&quot; class=&quot;headerlink&quot; title=&quot;高度等于屏高&quot;&gt;&lt;/a&gt;高度等于屏高&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;设置body和html为100%后，里面的元素就可以用百分比控制了&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;body,html&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          height:100%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       #container&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          width: 100%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          height: 100%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          /*padding-bottom: 100%;*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;js设置&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//改变div的高度&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           $(&lt;span class=&quot;string&quot;&gt;&quot;#container&quot;&lt;/span&gt;).height($(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).height());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;comment&quot;&gt;//改变div的宽度&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           $(&lt;span class=&quot;string&quot;&gt;&quot;#container&quot;&lt;/span&gt;).width($(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).width());&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;持续更新。。。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;做前端开发总会有一些小技巧需要用到，虽然简单，但是也很容易忘记。所以从现在开始就在这记录下一些感觉比较好玩的小tips。&lt;br&gt;
    
    </summary>
    
    
      <category term="CSS" scheme="http://jacean.github.io/tags/CSS/"/>
    
      <category term="web" scheme="http://jacean.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>JSONP跨域</title>
    <link href="http://jacean.github.io/2016/04/02/JSONP%E8%B7%A8%E5%9F%9F/"/>
    <id>http://jacean.github.io/2016/04/02/JSONP跨域/</id>
    <published>2016-04-02T13:16:01.000Z</published>
    <updated>2016-04-02T13:49:09.018Z</updated>
    
    <content type="html">&lt;h2 id=&quot;JSONP跨域&quot;&gt;&lt;a href=&quot;#JSONP跨域&quot; class=&quot;headerlink&quot; title=&quot;JSONP跨域&quot;&gt;&lt;/a&gt;JSONP跨域&lt;/h2&gt;&lt;p&gt;最近做微信开发，因为要调用微信api，所以需要进行跨域访问。ajax就不行了，由于同源策略，它不支持跨域。又因为是进行GET访问，所以选取了JSONP的方式。&lt;br&gt;说明一点，虽然Jquery把JSONP集成到了ajax，但是JSONP确实不是ajax的实现。&lt;br&gt;JSONP进行跨域的办法是利用&amp;lt; script&amp;gt;标签不受来源限制。当然，&amp;lt; img&amp;gt;等的来源也是不受限制的。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h2&gt;&lt;p&gt;在请求页面声明一个函数作为回调函数，&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;returnJsonp&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	alert(data.value);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后添加远程调用&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;srcipt&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;xxx://remote.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;当然，远程调用的文件里必须有这个回调函数的使用，回调函数的参数就是要传递的json数据。&lt;br&gt;同时，注意引用标签应该在回调函数声明之后，以保证回调函数的定义。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//xxx://remote.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;returnJsonp(&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;我是要传过去的值&quot;&lt;/span&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;原理很清晰。其实就是引用的远程文件利用自己的数据调用回调函数，我们可以自定义回调函数的处理。&lt;br&gt;所以，只要远程文件能够生成对回调函数的引用，并将json数据传入参数，就大功可成。&lt;br&gt;回调函数在远程服务器端并不一定需要知晓，也就是是可以由客户端指定的，只是这样就需要服务器端解析ｕｒｌ了，传递过来的ｕｒｌ也自然不能只是一个简单的ｊｓ文件。而应该是能解析服务器的语言。&lt;br&gt;如果远程是ｐｈｐ的话，在添加远程ｕｒｌ的时候，记得在最后&lt;em&gt;&amp;amp;callback=returnJsonp&lt;/em&gt;,然后服务器端只需要”$_GET[‘callback’]”,就能获得回调函数的名字，然后拼接出一个js的回调函数的调用就可以了。&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;script&amp;gt;&quot;&lt;/span&gt;.$_GET[&lt;span class=&quot;string&quot;&gt;&#39;callback&#39;&lt;/span&gt;].&lt;span class=&quot;string&quot;&gt;&quot;(&quot;&lt;/span&gt;.$data.&lt;span class=&quot;string&quot;&gt;&quot;)&quot;&lt;/span&gt;.&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;/script&amp;gt;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;有一点要注意，利用JSONP的原理，传过来的并不一定非是JSON数据，也可以是其他对象，在使用中应灵活运用。比如微信传过来的Object对象。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;JQuery使用JSONP&quot;&gt;&lt;a href=&quot;#JQuery使用JSONP&quot; class=&quot;headerlink&quot; title=&quot;JQuery使用JSONP&quot;&gt;&lt;/a&gt;JQuery使用JSONP&lt;/h2&gt;&lt;p&gt;在dataType处指定类型为jsonp，提供success的回调函数。其他的方式，比如JQuery.get,JQuery.getJSON等，都是一样的指定类型和回调函数就可。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$.ajax(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        url:src,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        dataType:&lt;span class=&quot;string&quot;&gt;&#39;jsonp&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        data:&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        jsonp:&lt;span class=&quot;string&quot;&gt;&#39;callback&#39;&lt;/span&gt;,&lt;span class=&quot;comment&quot;&gt;//传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(一般默认为:callback)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//jsonpCallback:&quot;returnJsonp&quot;,//自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名，也可以写&quot;?&quot;，jQuery会自动为你处理数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        success:&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;result&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;//result就是Json数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        timeout:&lt;span class=&quot;number&quot;&gt;3000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;附录JSON语法&quot;&gt;&lt;a href=&quot;#附录JSON语法&quot; class=&quot;headerlink&quot; title=&quot;附录JSON语法&quot;&gt;&lt;/a&gt;附录JSON语法&lt;/h2&gt;&lt;p&gt;json和xml一样，是轻量级的数据交换格式。方便书写和理解。&lt;br&gt;JSON 语法是 JavaScript 对象表示语法的子集。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据在键值对中&lt;/li&gt;
&lt;li&gt;数据由逗号分隔&lt;/li&gt;
&lt;li&gt;花括号保存对象&lt;/li&gt;
&lt;li&gt;方括号保存数组&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;简单说就有对象和数组两种结构。实例如下：&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;people&quot;&lt;/span&gt;:[&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;firstName&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;Brett&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;lastName&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;McLaughlin&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;aaaa&quot;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;firstName&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;Jason&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;lastName&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;Hunter&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;bbbb&quot;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;firstName&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;Elliotte&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;lastName&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;Harold&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;cccc&quot;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;JSONP跨域&quot;&gt;&lt;a href=&quot;#JSONP跨域&quot; class=&quot;headerlink&quot; title=&quot;JSONP跨域&quot;&gt;&lt;/a&gt;JSONP跨域&lt;/h2&gt;&lt;p&gt;最近做微信开发，因为要调用微信api，所以需要进行跨域访问。ajax就不行了，由于同源策略，它不支持跨域。又因为是进行GET访问，所以选取了JSONP的方式。&lt;br&gt;说明一点，虽然Jquery把JSONP集成到了ajax，但是JSONP确实不是ajax的实现。&lt;br&gt;JSONP进行跨域的办法是利用&amp;lt; script&amp;gt;标签不受来源限制。当然，&amp;lt; img&amp;gt;等的来源也是不受限制的。&lt;br&gt;
    
    </summary>
    
    
      <category term="web" scheme="http://jacean.github.io/tags/web/"/>
    
      <category term="jsonp" scheme="http://jacean.github.io/tags/jsonp/"/>
    
  </entry>
  
  <entry>
    <title>TCP爱情故事——爱情有尽头</title>
    <link href="http://jacean.github.io/2016/03/28/TCP%E7%88%B1%E6%83%85%E6%95%85%E4%BA%8B%E2%80%94%E2%80%94%E7%88%B1%E6%83%85%E6%9C%89%E5%B0%BD%E5%A4%B4/"/>
    <id>http://jacean.github.io/2016/03/28/TCP爱情故事——爱情有尽头/</id>
    <published>2016-03-28T11:26:27.000Z</published>
    <updated>2016-03-28T12:33:56.399Z</updated>
    
    <content type="html">&lt;p&gt;小T和小P过上了幸福的生活。就这样，过了xxx天。&lt;br&gt;因为一些原因(番外)，小T决定还是和小P分手。唉，真是可惜啊。&lt;br&gt;分手呢，是4条短信，也就是传说中的&lt;em&gt;四次挥手&lt;/em&gt;。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;原本呢，小T和小P是恋人，他们在恋爱期(ESTABLISHED)，但是，对吧，所以，继续咯。&lt;br&gt;小T在一番决心之后，终于还是发出了第一条短信。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我们分手吧。(FIN)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;发完之后，小T就进入了主动提出分手的烦闷状态(FIN WAIT1)，一个人闷在被子里，可能在哭，也可能是在睡觉吧，反正我没掀开被子看。&lt;br&gt;小P呢，这傻孩子，虽然也发觉到了两人的感情情况有异了，但还是舍不得，更下不了决心。&lt;br&gt;这天，小P正在床上躺着，突然，嘟，短信提示音，小P伸手拿过手机一看，哦，原来是要分手。拿着手机的手突然无力，手机差点砸到脸上，他心里一阵难过。沉默中坐起身子，靠着床边，盯着手机，1秒，2秒，3秒，。。。(进入了CLOSE WAIT状态)。。。，就这样不知过了多久，他终于发出了消息。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我明白了，给我点时间。(ACK)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;小P继续沉默(CLOSE WAIT)，可能是在回忆过去，也可能是在，谁知道呢，我怎么会直到他在想什么。&lt;br&gt;小T的短信提示音响了，被子里伸出一只手，摸索着找到了手机。可能是哭过，睁开红肿的眼睛看到了屏幕里的字，放下手机，闭上眼，趴在床上，就此无声(进入了FIN WAIT2状态)。&lt;/p&gt;
&lt;p&gt;摄像机转回小P，这时他正拿着手机，慢慢打字。1个字，2个字，5个字，10个字，2个字，1个字，50个字，3个字，100个字，就这样发吧，那就这样吧。最后，他发出了短信(FIN)，把手机扔到一旁，打开了电视，声音开到很大很大，然后就没有他的声响了(进入了LAST ACK状态)。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;好&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;小T看着只有1个字的短信，知道他们从此结束了。深呼吸，深呼吸，深呼吸，强作笑脸，给了自己一个微笑，想着再回复一条吧。(ACK)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;那就这样吧，祝你幸福&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一切都结束了，保持微笑，小T看着窗外的天空，很蓝，伸出手，阳光很温暖，想着，就是这么温暖的阳光，给了生命生机，孕育出了这美丽的世界吧。&lt;br&gt;手机放在身边，她在等，等到等不到小P再发来消息，那我们就真的这样了(这就进入了TIME WAIT状态)。&lt;/p&gt;
&lt;p&gt;小P看着回复，祝我幸福，可能真的会幸福吧，可是再幸福也不会有你了，你的幸福也不会有我了。&lt;br&gt;终究还是分手了，长按关机，对着手机说，你也会幸福的，对吧。&lt;br&gt;双手交叉放在脖颈，躺倒床上，让我最后一次梦到你，梦到属于我们的幸福之后，再醒来，醒来享受没有你的幸福(进入了CLOSED状态)。&lt;/p&gt;
&lt;p&gt;一小时，两小时，该吃饭了，你在吃饭么，５小时，看来你会很好的。对着快要落山的夕阳挥挥手，明天见。(CLOSED)&lt;/p&gt;
&lt;p&gt;这段爱情有了自己的结局，也许不是我们期待的走上婚姻殿堂，但是也会是是曾经的幸福。&lt;/p&gt;
&lt;p&gt;好了，剧情结束。&lt;br&gt;来好好说说ＴＣＰ的四次挥手。图如下&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_TCP-2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;先看第一条短信，小Ｔ说要分手，这是她主动提出要分手，因为她觉得没有感情了，对主机１来说，它提出要关闭连接，是因为没有数据要发送了。&lt;br&gt;第二条，小Ｐ收到后，自然直到小Ｔ是没感情了，但是他还有啊，所以他需要时间去在自己心里砍一刀。对主机２来说，就是主机１你发完了，我还有数据没发完呢，你给老子再等等。然后，小Ｔ就继续等，小Ｐ就继续砍，对应主机就是主机１等待主机２发送完毕数据，主机２继续腾空自己的数据。&lt;br&gt;第三条短信，小Ｐ处理完了自己的感情，觉得可以结束了，就告诉小Ｔ可以分手了。对应于主机２，就是它数据发送完毕了，可以关闭连接了。同时等待主机１来发送最后通牒。&lt;br&gt;第四条短信，小Ｔ收到后，那就分手吧，我说你那边可以确定分手了，别再跟人说你不是单身。然后就等着，看小Ｐ有没有收到我的确定消息，收到了就不会说话，我等待时间过了就自己也关闭，没收到可能还会瞎逼逼，我得再跟你说一次，咱们都是单身了。小Ｐ收到确定消息之后，就直接关闭连接，就此两清，等待下一次的爱情。主机１和主机２也是这样。&lt;/p&gt;
&lt;p&gt;这里之所以是４条，就是因为小Ｐ可能想不明白，需要等他想明白，也就是主机１虽然没数据了，但是主机２可能还有，得等他发完再说。&lt;br&gt;不过，当小Ｐ也有这念头，主机２数据也正好发完，那就第２，３条短信合一块，直接分手了，直接关闭连接了。&lt;/p&gt;
&lt;p&gt;还有就是，WAIT TIME，这里是主机１对网络环境保持怀疑，所以要通过２×MSL来自己确认主机２是真的没数据要发送了。&lt;/p&gt;
&lt;p&gt;这就是我理解的四次挥手了，应该比较清晰了。如果哪里有不对，请指出来我再学习。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;小T和小P过上了幸福的生活。就这样，过了xxx天。&lt;br&gt;因为一些原因(番外)，小T决定还是和小P分手。唉，真是可惜啊。&lt;br&gt;分手呢，是4条短信，也就是传说中的&lt;em&gt;四次挥手&lt;/em&gt;。&lt;br&gt;
    
    </summary>
    
    
      <category term="TCP" scheme="http://jacean.github.io/tags/TCP/"/>
    
  </entry>
  
  <entry>
    <title>TCP爱情故事——我们恋爱了</title>
    <link href="http://jacean.github.io/2016/03/28/TCP%E7%88%B1%E6%83%85%E6%95%85%E4%BA%8B%E2%80%94%E2%80%94%E6%88%91%E4%BB%AC%E6%81%8B%E7%88%B1%E4%BA%86/"/>
    <id>http://jacean.github.io/2016/03/28/TCP爱情故事——我们恋爱了/</id>
    <published>2016-03-28T10:44:57.000Z</published>
    <updated>2016-03-28T12:42:01.003Z</updated>
    
    <content type="html">&lt;p&gt;谈恋爱是两。。个。。人。。相互喜欢，然后表白，我喜欢你，你喜欢我，大家就开开心心的在一起了。&lt;br&gt;在这里，我来谈一谈被称为&lt;strong&gt;TCP爱情&lt;/strong&gt;的小故事,&lt;br&gt;这场爱情因为3条短信成就，也就是大家盛传的&lt;em&gt;三次握手&lt;/em&gt;。&lt;br&gt;主人公是小T和小P。一个大方勇敢的姑娘，一个腼腆有才的少年。现在他们都是单身狗状态(CLOSED).&lt;br&gt;然后结局是小T和小P在一起了，他们connect了，简称TCP。&lt;br&gt;故事开始了。。。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;话说春天到了，小P看着人家小情侣成双成对的心里很是羡慕，然后就一直想啊，想啊，要是他 也有对象多好，小P有点害羞，不好意思去跟女孩说话，所以想着要是有人跟他表白该多好，只要看对眼就好啊。不管这想法有多天真，总之，小P是进入了发春状态(执行了LISTEN原语，进入Listen状态),渴望被爱。&lt;/p&gt;
&lt;p&gt;小T这个姑娘啊，很不错，现在是单身。有一次莫名的邂逅(番外)之后，小T对小P有了莫名的思念，然后渐渐的，越来越关注小P，终于，发现自己喜欢上了虽然有些腼腆，但是可爱干净的小P。在一番纠结之后，小T终于还是决定，我要跟小P表白，我要跟他在一起。于是，勇敢找到小P的电话，发了条短信(执行了CONNECT原语)。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;T：我喜欢你。&lt;br&gt;我还没喜欢过人(SEQ=0,常规:seq=t),&lt;br&gt;你要做第一个吗?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;SYN同步信号(SEQ=0)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;发完之后，小T就进入了主动表白等待回应的状态(SYN SENT)。既担心又期待，小心脏扑通扑通的跳个不停，一直盯着手机，生怕错过了回复。&lt;br&gt;嘟，小P发现来短信了，拿起一看，瞬间一脸懵逼，然后仰天大笑，哥的春天到了。想着小T漂亮的脸蛋和巴拉巴拉(自行脑补)，这就是他的梦中女神型啊。于是，拿起手机，给小T回了句(执行ACCEPT原语)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;P:我也喜欢你.&lt;br&gt;我等你等了好久,我愿意做你第一个喜欢的人(ACK=1,常规:ack=t+1)，&lt;br&gt;我没有初恋，你愿意做我的初恋(SEQ=0,seq=p)吗。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;SYN同步信号(SEQ=0,ACK=0+1)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;发出去后，小P就进入了接受表白快要脱单的状态(SYN RCVD)。&lt;br&gt;小T在忐忑中终于等到了回应，鼓起勇气，深呼吸，拿起手机，闭上眼睛，点击确认，1，2，3，到底是什么。好开心，小P竟然也喜欢我，真的好开心，他还要和我在一起，太激动了，怎么办怎么办，要不要直接答应呢，好纠结，好烦啊，真是烦死人了，直接答应会不会很草率啊，他会不会对我好啊，想着想着短信就发出去了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;T：好啊。&lt;br&gt;我是你的初恋，你也是我的初恋(常规:seq=t+1,ack=p+1)&lt;/p&gt;
&lt;p&gt;SYN(SEQ=1,ACK=1)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;于是，小T正式脱单了，进入了恋爱状态(ESTABLISHED)。很快，收到小T肯定回复的小P也知道自己终于脱单了，也进入了恋爱状态(ESTABLISHED)。&lt;br&gt;从此，小T和小P开始了亲密的互动，过上了幸福的生活，他们彼此连接在了一起，就是TCP。&lt;br&gt;这就是小T和小P的TCP爱情故事。&lt;/p&gt;
&lt;p&gt;多么美好的结局，但是，现实总是残酷的。&lt;br&gt;剧情回到小P收到短信那一刻。&lt;/p&gt;
&lt;p&gt;————————————————华丽丽的分割线—————————————————————&lt;/p&gt;
&lt;p&gt;小P看着手机中的短信，“我喜欢你”，这四个字让他有点小激动，但是看到发送人，小T，他懵了，小T不是那个巴拉巴拉(自行脑补)的，一直人送外号“别人家的对象”的女孩吗，我还是不要喜欢她了，我要继续等我的女神。也就是，并没有看对眼，于是，回了句&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;你是个好人。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;剧情到此结束，小T被拒绝了，收到了好人卡(RST标志位为1).&lt;/p&gt;
&lt;p&gt;爱情，谁知道哪天就变了。下篇，小T和小P就要分手了，也就是释放连接，四次挥手。。。&lt;/p&gt;
&lt;p&gt;然后，就来具体讲讲３次握手怎么握的了。&lt;br&gt;流程图就是下边这样咯&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_tcp-1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;第一条短信，小Ｔ说喜欢小Ｐ，这就是主动进行连接。主机１向主机２主动发出连接请求，进入同步发送状态，处于ｌｉｓｔｅｎ的主机２发现请求，并接受请求，于是就给回应准备好了。&lt;br&gt;第二条短信，小Ｐ也说喜欢，然后邀请在一起。就是主机２说咱可以连接，回复主机１的序号加１作为确认号，同时还会传送自己序号。然后进入同步接收状态。&lt;br&gt;第三条短信，小Ｔ给小Ｐ确认，两个人建立正式的关系。主机１和主机２也是，两边都问好之后就发送序号和确认号，建立连接。&lt;/p&gt;
&lt;p&gt;ＴＣＰ是全双工的，也可能两端同时连接，这时候通过序号和确认号，最终建立的是一条连接，进行通信。&lt;/p&gt;
&lt;p&gt;大体我理解的就是这样，有不对请指出。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;谈恋爱是两。。个。。人。。相互喜欢，然后表白，我喜欢你，你喜欢我，大家就开开心心的在一起了。&lt;br&gt;在这里，我来谈一谈被称为&lt;strong&gt;TCP爱情&lt;/strong&gt;的小故事,&lt;br&gt;这场爱情因为3条短信成就，也就是大家盛传的&lt;em&gt;三次握手&lt;/em&gt;。&lt;br&gt;主人公是小T和小P。一个大方勇敢的姑娘，一个腼腆有才的少年。现在他们都是单身狗状态(CLOSED).&lt;br&gt;然后结局是小T和小P在一起了，他们connect了，简称TCP。&lt;br&gt;故事开始了。。。&lt;br&gt;
    
    </summary>
    
    
      <category term="TCP" scheme="http://jacean.github.io/tags/TCP/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件权限</title>
    <link href="http://jacean.github.io/2016/03/26/Linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/"/>
    <id>http://jacean.github.io/2016/03/26/Linux文件权限/</id>
    <published>2016-03-26T04:01:38.000Z</published>
    <updated>2016-03-26T04:02:53.142Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Linux文件权限&quot;&gt;&lt;a href=&quot;#Linux文件权限&quot; class=&quot;headerlink&quot; title=&quot;Linux文件权限&quot;&gt;&lt;/a&gt;Linux文件权限&lt;/h2&gt;&lt;p&gt;Linux文件权限的表示是10个字符。如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-rw-rw-r-x: 文件所有者与同组用户对文件具有读写的权限，而其他用户仅具有读取和执行的权限。&lt;br&gt;drwx–x–x: 目录所有者具有读写与进入目录的权限,其他用户近能进入该目录，却无法读取任何数据。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;两种权限对象&quot;&gt;&lt;a href=&quot;#两种权限对象&quot; class=&quot;headerlink&quot; title=&quot;两种权限对象&quot;&gt;&lt;/a&gt;两种权限对象&lt;/h3&gt;&lt;p&gt;第一个字符，标识权限对象是文件还是目录。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;‘-‘，表示文件&lt;/li&gt;
&lt;li&gt;‘d’，表示是目录&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;三种用户类型&quot;&gt;&lt;a href=&quot;#三种用户类型&quot; class=&quot;headerlink&quot; title=&quot;三种用户类型&quot;&gt;&lt;/a&gt;三种用户类型&lt;/h3&gt;&lt;p&gt;第2-10的字符，表示3组权限。依次是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;所有者，创建文件的用户&lt;/li&gt;
&lt;li&gt;用户组，用户所在用户组的成员&lt;/li&gt;
&lt;li&gt;其他用户，系统内的其他所有用户&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;三种用户权限&quot;&gt;&lt;a href=&quot;#三种用户权限&quot; class=&quot;headerlink&quot; title=&quot;三种用户权限&quot;&gt;&lt;/a&gt;三种用户权限&lt;/h3&gt;&lt;p&gt;每一组权限都有3个字母组成，分别代表读、写和执行。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;r，read,对文件而言，具有读取文件内容的权限；对目录来说，具有浏览目录的权&lt;/li&gt;
&lt;li&gt;w，write,对文件而言，具有新增、修改文件内容的权限；对目录来说，具有删除、移动目录内文件的权限。&lt;/li&gt;
&lt;li&gt;x，execute,对文件而言，具有执行文件的权限；对目录了来说该用户具有进入目录的权限&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;数字表示权限&quot;&gt;&lt;a href=&quot;#数字表示权限&quot; class=&quot;headerlink&quot; title=&quot;数字表示权限&quot;&gt;&lt;/a&gt;数字表示权限&lt;/h3&gt;&lt;p&gt;除了字符，还有数字也可以用来表示权限，3组权限9个字母只用3个数字。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0，对应-，表示没有权限。即&lt;em&gt;000&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;1，对应x，表示执行权限。即&lt;em&gt;001&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;2，对应w，表示写权限。即&lt;em&gt;010&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;4，对应r，表示读权限.即&lt;em&gt;100&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这样表示的原因是，将rwx对应的3位，如果有就是1，没有就是0，这样的二进制表示。如上所示。&lt;br&gt;而这样，只需要0-7的3个数字就可以把3个字母的权限完整的表示出来。&lt;br&gt;开头的例子，其权限数字表示第一个就是665，第二个就是711.&lt;/p&gt;
&lt;h3 id=&quot;改变权限&quot;&gt;&lt;a href=&quot;#改变权限&quot; class=&quot;headerlink&quot; title=&quot;改变权限&quot;&gt;&lt;/a&gt;改变权限&lt;/h3&gt;&lt;p&gt;使用chmod和数字改变文件或目录的访问权限。比如修改文件&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;chmod 664 a.txt&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;即是改变a.txt的权限为-rw-rw-1–.很明显，权限全开就是777，全闭就是000.&lt;br&gt;改变目录的权限如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;chmod 777 /home/user         仅把/home/user目录的权限设置为rwxrwxrw&lt;/li&gt;
&lt;li&gt;chmod -R 777 /home/user        表示将整个/home/user目录与其中的文件和子目录的权限都设置为rwxrwxrwx&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;修改拥有者&quot;&gt;&lt;a href=&quot;#修改拥有者&quot; class=&quot;headerlink&quot; title=&quot;修改拥有者&quot;&gt;&lt;/a&gt;修改拥有者&lt;/h3&gt;&lt;p&gt;change owner，简称chown。语法如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;chown [-R] 账号名称      文件/目录&lt;/li&gt;
&lt;li&gt;chown [-R] 账号名称:组群  文件/目录&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;修改组群&quot;&gt;&lt;a href=&quot;#修改组群&quot; class=&quot;headerlink&quot; title=&quot;修改组群&quot;&gt;&lt;/a&gt;修改组群&lt;/h3&gt;&lt;p&gt;change group，简称chgrp。语法如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;chgrp  组群  文件名/目录 &lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Linux文件权限&quot;&gt;&lt;a href=&quot;#Linux文件权限&quot; class=&quot;headerlink&quot; title=&quot;Linux文件权限&quot;&gt;&lt;/a&gt;Linux文件权限&lt;/h2&gt;&lt;p&gt;Linux文件权限的表示是10个字符。如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-rw-rw-r-x: 文件所有者与同组用户对文件具有读写的权限，而其他用户仅具有读取和执行的权限。&lt;br&gt;drwx–x–x: 目录所有者具有读写与进入目录的权限,其他用户近能进入该目录，却无法读取任何数据。&lt;br&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="http://jacean.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>HTTP会话</title>
    <link href="http://jacean.github.io/2016/03/25/HTTP%E4%BC%9A%E8%AF%9D/"/>
    <id>http://jacean.github.io/2016/03/25/HTTP会话/</id>
    <published>2016-03-24T16:09:37.000Z</published>
    <updated>2016-03-24T16:18:43.820Z</updated>
    
    <content type="html">&lt;p&gt;在多次HTTP连接间维护用户与同一用户发出的不同请求之间关联的情况称为维护一个会话（session）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;会话能够把用户与同一用户发出的不同请求之间关联起来。不同用户的会话应当是相互独立的。&lt;/li&gt;
&lt;li&gt;会话一旦建立就应当一直存在，直到用户空闲时间超过了某一个时间界限，容器才应当释放该会话资源。&lt;/li&gt;
&lt;li&gt;在会话的存活期间，用户可能给服务器发送了很多请求，该用户的这些请求信息都可以存储在会话中。&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
会话的四个过程：&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;建立tcp连接&lt;/li&gt;
&lt;li&gt;发出请求文档&lt;/li&gt;
&lt;li&gt;发出响应文档&lt;/li&gt;
&lt;li&gt;释放tcp连接&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在多次HTTP连接间维护用户与同一用户发出的不同请求之间关联的情况称为维护一个会话（session）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;会话能够把用户与同一用户发出的不同请求之间关联起来。不同用户的会话应当是相互独立的。&lt;/li&gt;
&lt;li&gt;会话一旦建立就应当一直存在，直到用户空闲时间超过了某一个时间界限，容器才应当释放该会话资源。&lt;/li&gt;
&lt;li&gt;在会话的存活期间，用户可能给服务器发送了很多请求，该用户的这些请求信息都可以存储在会话中。
    
    </summary>
    
    
      <category term="HTTP" scheme="http://jacean.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>HTTP协议学习</title>
    <link href="http://jacean.github.io/2016/03/24/HTTP%E5%8D%8F%E8%AE%AE%E5%AD%A6%E4%B9%A0/"/>
    <id>http://jacean.github.io/2016/03/24/HTTP协议学习/</id>
    <published>2016-03-24T15:05:54.000Z</published>
    <updated>2016-03-26T04:06:33.407Z</updated>
    
    <content type="html">&lt;p&gt;HTTP,HyperText Transfer Protocol,超文本传输协议。&lt;br&gt;HTTP设计最初的目的是为了提供一种发布和接收HTML页面的方法。通过HTTP或HTTPS协议请求的资源由统一资源标识符来标识。&lt;br&gt;1999年，RFC2616发布了HTTP1.1，这个当前广泛使用的版本。&lt;br&gt;2014年，提交HTTP/2,2015年5月以RFC7540正式发表，取代HTTP 1.1成为HTTP的实现标准。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;协议概述&quot;&gt;&lt;a href=&quot;#协议概述&quot; class=&quot;headerlink&quot; title=&quot;协议概述&quot;&gt;&lt;/a&gt;协议概述&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;HTTP是一个客户端终端(用户)和服务器端(网站)请求和应答的标准(TCP).通过使用Web浏览器、网络爬虫或者其它的工具，客户端发起一个HTTP请求到服务器上指定端口（默认端口为80）。我们称这个客户端为用户代理程序（user agent）。应答的服务器上存储着一些资源，比如HTML文件和图像。我们称这个应答服务器为源服务器（origin server）。在用户代理和源服务器中间可能存在多个“中间层”，比如代理服务器、网关或者隧道（tunnel）。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;user agent —&amp;gt;&amp;gt;&amp;gt;origin server&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HTTP协议假定其下层协议提供可靠的传输，因此，任何能够提供这种保证的协议都可以被其使用。所以，&lt;br&gt;TCP/IP协议族使用TCP作为其传输层。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;TCP提供的是点对点的可靠传输，UDP则是广播型的不可靠连接。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;通常，由HTTP客户端发起一个请求，创建一个到服务器指定端口（默认是80端口）的TCP连接。HTTP服务器则在那个端口监听客户端的请求。一旦收到请求，服务器会向客户端返回一个状态，比如”HTTP/1.1 200 OK”，以及返回的内容，如请求的文件、错误消息、或者其它信息。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;客户端—&amp;gt;&amp;gt;&amp;gt;发起请求—&amp;gt;&amp;gt;&amp;gt;创建TCP连接—&amp;gt;&amp;gt;&amp;gt;服务器端监听请求—&amp;gt;&amp;gt;&amp;gt;返回状态&lt;/p&gt;
&lt;h2 id=&quot;请求信息&quot;&gt;&lt;a href=&quot;#请求信息&quot; class=&quot;headerlink&quot; title=&quot;请求信息&quot;&gt;&lt;/a&gt;请求信息&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;请求行&lt;/li&gt;
&lt;li&gt;请求头&lt;/li&gt;
&lt;li&gt;空行&lt;/li&gt;
&lt;li&gt;其他消息体&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;请求方法&quot;&gt;&lt;a href=&quot;#请求方法&quot; class=&quot;headerlink&quot; title=&quot;请求方法&quot;&gt;&lt;/a&gt;请求方法&lt;/h2&gt;&lt;p&gt;HTTP/1.1协议中共定义了八种方法（也叫“动作”）来以不同方式操作指定的资源：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OPTIONS：这个方法可使服务器传回该资源所支持的所有HTTP请求方法。用’&lt;em&gt;‘来代替资源名称，向Web服务器发送OPTIONS请求，可以&lt;/em&gt;测试*服务器功能是否正常运作。&lt;/li&gt;
&lt;li&gt;HEAD：与GET方法一样，都是向服务器发出指定资源的请求。只不过服务器将不传回资源的本文部分。它的好处在于，使用这个方法可以在不必传输全部内容的情况下，就可以获取其中“关于该资源的信息”（元信息或称元数据）。&lt;/li&gt;
&lt;li&gt;GET：向指定的资源发出“显示”请求。使用GET方法应该只用在&lt;em&gt;读取数据&lt;/em&gt;，而不应当被用于产生“副作用”的操作中，例如在Web Application中。其中一个原因是GET可能会被网络蜘蛛等随意访问。参见安全方法&lt;/li&gt;
&lt;li&gt;POST：向指定资源提交数据，请求服务器进行处理（例如提交表单或者上传文件）。数据被包含在请求本文中。这个请求可能会创建新的资源或修改现有资源，或二者皆有。&lt;/li&gt;
&lt;li&gt;PUT：向指定资源位置上传其最新内容。&lt;/li&gt;
&lt;li&gt;DELETE：请求服务器删除Request-URI所标识的资源。&lt;/li&gt;
&lt;li&gt;TRACE：回显服务器收到的请求，主要用于测试或诊断。&lt;/li&gt;
&lt;li&gt;CONNECT：HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。通常用于SSL加密服务器的链接（经由非加密的HTTP代理服务器）。&lt;blockquote&gt;
&lt;p&gt;HTTP服务器至少应该实现GET和HEAD方法，其他方法都是可选的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;安全方法:GET和HEAD，除了获取资源信息外，这些请求不应当再有其他意义。被认为是安全的。&lt;br&gt;副作用:幂等，非幂等。假如在不考虑诸如错误或者过期等问题的情况下，若干次请求的副作用与单次请求相同或者根本没有副作用，那么这些请求方法就能够被视作“幂等”的。&lt;/p&gt;
&lt;h2 id=&quot;HTTPS&quot;&gt;&lt;a href=&quot;#HTTPS&quot; class=&quot;headerlink&quot; title=&quot;HTTPS&quot;&gt;&lt;/a&gt;HTTPS&lt;/h2&gt;&lt;p&gt;目前有两种方法来创建安全超文本协议连接：HTTPS URI方案和HTTP 1.1请求头（由 RFC 2817 引入）。由于浏览器对后者几乎没有任何支持，因此HTTPS URI方案仍是创建安全超文本协议连接的主要手段。安全超文本连接协议使用&lt;a href=&quot;https://代替http://&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://代替http://&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;版本&quot;&gt;&lt;a href=&quot;#版本&quot; class=&quot;headerlink&quot; title=&quot;版本&quot;&gt;&lt;/a&gt;版本&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;0.9，只接受GET一种请求方法，没有在通讯中指定版本号，不支持请求头。&lt;/li&gt;
&lt;li&gt;HTTP/1.0，第一个在通讯中指定版本号的HTTP协议，仍被广泛采用，特别是在代理服务器中。&lt;/li&gt;
&lt;li&gt;HTTP/1.1，持久连接被默认采用，并能很好的配合代理服务器工作。支持以管道方式同时发送多个请求。相较于HTTP/1.0，区别如下：&lt;ul&gt;
&lt;li&gt;缓存处理&lt;/li&gt;
&lt;li&gt;带宽优化及网络连接的使用&lt;/li&gt;
&lt;li&gt;错误通知的管理&lt;/li&gt;
&lt;li&gt;消息在网络中发送&lt;/li&gt;
&lt;li&gt;互联网地址的维护&lt;/li&gt;
&lt;li&gt;安全性及完整性&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HTTP/2，当前版本，于2015年5月作为互联网标准正式发布。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;状态码&quot;&gt;&lt;a href=&quot;#状态码&quot; class=&quot;headerlink&quot; title=&quot;状态码&quot;&gt;&lt;/a&gt;状态码&lt;/h2&gt;&lt;p&gt;所有HTTP响应的第一行都是状态行，依次是当前HTTP版本号，3位数字组成的状态代码，以及描述状态的短语，彼此由空格分隔。&lt;br&gt;状态代码的第一个数字代表当前响应的类型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1xx消息——请求已被服务器接收，继续处理（临时响应，1.0未定义任何1xx状态码）&lt;ul&gt;
&lt;li&gt;100 Continue。客户端应当继续发送请求。&lt;/li&gt;
&lt;li&gt;101 Switching Protocols。服务器已经理解了客户端的请求，并将通过Upgrade消息头通知客户端采用不同的协议来完成这个请求。&lt;/li&gt;
&lt;li&gt;102 Processing。代表处理将被继续执行。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;2xx成功——请求已成功被服务器接收、理解、并接受&lt;ul&gt;
&lt;li&gt;200 OK。请求已成功，请求所希望的响应头或数据体将随此响应返回。&lt;/li&gt;
&lt;li&gt;201 Created。请求已经被实现，而且有一个新的资源已经依据请求的需要而创建，且其URI已经随Location头信息返回。假如需要的资源无法及时创建的话，应当返回’202 Accepted’。&lt;/li&gt;
&lt;li&gt;202 Accepted。服务器已接受请求，但尚未处理。适用于异步操作。&lt;/li&gt;
&lt;li&gt;203 Non-Authoritative Information。服务器已成功处理了请求，但返回的实体头部元信息不是在原始服务器上有效的确定集合，而是来自本地或者第三方的拷贝。&lt;/li&gt;
&lt;li&gt;204 No Content。服务器成功处理了请求，但不需要返回任何实体内容，并且希望返回更新了的元信息。&lt;/li&gt;
&lt;li&gt;205 Reset Content。服务器成功处理了请求，且没有返回任何内容。但是与204响应不同，返回此状态码的响应要求请求者重置文档视图。该响应主要是被用于接受用户输入后，立即重置表单，以便用户能够轻松地开始另一次输入。与204响应一样，该响应也被禁止包含任何消息体，且以消息头后的第一个空行结束。&lt;/li&gt;
&lt;li&gt;206 Partial Content。服务器已经成功处理了部分GET请求。常用于断点续传等。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;3xx重定向——需要后续操作才能完成这一请求&lt;ul&gt;
&lt;li&gt;300 Multiple Choices。被请求的资源有一系列可供选择的回馈信息，用户或浏览器能够自行选择一个首选的地址进行重定向。&lt;/li&gt;
&lt;li&gt;301 Moved Permanently。被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个URI之一。&lt;/li&gt;
&lt;li&gt;302 Found。请求的资源现在临时从不同的URI响应请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。&lt;/li&gt;
&lt;li&gt;303 See Other。对应当前请求的响应可以在另一个URI上被找到，而且客户端应当采用GET的方式访问那个资源。303响应禁止被缓存。&lt;/li&gt;
&lt;li&gt;304 Not Modified。如果客户端发送了一个带条件的GET请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，&lt;/li&gt;
&lt;li&gt;305 Use Proxy.被请求的资源必须通过指定的代理才能被访问。&lt;/li&gt;
&lt;li&gt;307 Temporary Redirect.请求的资源现在临时从不同的URI响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;4xx请求错误——请求含有词法错误或者无法被执行&lt;ul&gt;
&lt;li&gt;400 Bad Request.由于包含语法错误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。&lt;/li&gt;
&lt;li&gt;401 Unauthorized.当前请求需要用户验证。&lt;/li&gt;
&lt;li&gt;403 Forbidden.服务器已经理解请求，但是拒绝执行它。&lt;/li&gt;
&lt;li&gt;404 Not Found.请求失败，请求所希望得到的资源未被在服务器上发现。&lt;/li&gt;
&lt;li&gt;405 Method Not Allowed.请求行中指定的请求方法不能被用于请求相应的资源。&lt;/li&gt;
&lt;li&gt;408 Request Timeout.请求超时。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;5xx服务器错误——服务器在处理某个正确请求时发生错误&lt;ul&gt;
&lt;li&gt;500 Internal Server Error.服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。一般来说，这个问题都会在服务器的程序码出错时出现。&lt;/li&gt;
&lt;li&gt;501 Not Implemented.服务器不支持当前请求所需要的某个功能。&lt;/li&gt;
&lt;li&gt;502 Bad Gateway.作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。&lt;/li&gt;
&lt;li&gt;503 Service Unavailable.由于临时的服务器维护或者过载，服务器当前无法处理请求。&lt;/li&gt;
&lt;li&gt;504 Gateway Timeout.作为网关或者代理工作的服务器尝试执行请求时超时。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;持续连接&quot;&gt;&lt;a href=&quot;#持续连接&quot; class=&quot;headerlink&quot; title=&quot;持续连接&quot;&gt;&lt;/a&gt;持续连接&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在HTTP 0.9和1.0使用非持续连接，在非持续连接下，每个tcp只连接一个web对象，连接在每个请求-回应对后都会关闭，一个连接可被多个请求重复利用的保持连接机制被引入。这种连接持续化显著地减少了请求延迟，因为客户不用在首次请求后再次进行TCP交互确认创建连接。现在在HTTP 1.1使用持续连接，不必为每个web对象创建一个新的连接，一个连接可以传送多个对象。 HTTP1.1还进行了带宽优化，例如1.1引入了分块传输编码来允许流化传输持续连接上发送的内容，取代原先的buffer式传输。HTTP管道允许客户在上一个回应被收到前发送多重请求从而进一步减少了延迟时间。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;未完。。。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;HTTP,HyperText Transfer Protocol,超文本传输协议。&lt;br&gt;HTTP设计最初的目的是为了提供一种发布和接收HTML页面的方法。通过HTTP或HTTPS协议请求的资源由统一资源标识符来标识。&lt;br&gt;1999年，RFC2616发布了HTTP1.1，这个当前广泛使用的版本。&lt;br&gt;2014年，提交HTTP/2,2015年5月以RFC7540正式发表，取代HTTP 1.1成为HTTP的实现标准。&lt;br&gt;
    
    </summary>
    
    
      <category term="HTTP" scheme="http://jacean.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>建立最新版的wordpress_for_sae</title>
    <link href="http://jacean.github.io/2016/03/24/wordpress-for-sae%E9%85%8D%E7%BD%AE/"/>
    <id>http://jacean.github.io/2016/03/24/wordpress-for-sae配置/</id>
    <published>2016-03-24T14:41:53.000Z</published>
    <updated>2016-03-24T14:51:46.027Z</updated>
    
    <content type="html">&lt;p&gt;wordpress是一个很不错的博客系统，现在的各种支持也很好，能够很方便的建立一个不错的博客。&lt;br&gt;依托于新浪云，建立wordpress for sae，而且是最新版的wordpress，需要自己动手改一下，而不仅仅是使用wordpressforsae的模板。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在sae上新建自己的wordpress for sae，这会帮助我们初始化MySQL、在storage创建一个名为wordpress的domain、设置Memcache，方便之后的操作。&lt;/li&gt;
&lt;li&gt;安装并配置启用wordpress&lt;/li&gt;
&lt;li&gt;在wordpress官网下载最新版本的wordpress。解压，修改&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_wordpress-1.png&quot; alt=&quot;&quot;&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ** MySQL 设置 - 具体信息来自您正在使用的主机 ** //&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** WordPress数据库的名称 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;define(&lt;span class=&quot;string&quot;&gt;&#39;DB_NAME&#39;&lt;/span&gt;, SAE_MYSQL_DB);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** MySQL数据库用户名 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;define(&lt;span class=&quot;string&quot;&gt;&#39;DB_USER&#39;&lt;/span&gt;, SAE_MYSQL_USER);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** MySQL数据库密码 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;define(&lt;span class=&quot;string&quot;&gt;&#39;DB_PASSWORD&#39;&lt;/span&gt;, SAE_MYSQL_PASS);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** MySQL主机 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;define(&lt;span class=&quot;string&quot;&gt;&#39;DB_HOST&#39;&lt;/span&gt;, SAE_MYSQL_HOST_M.&lt;span class=&quot;string&quot;&gt;&#39;:&#39;&lt;/span&gt;.SAE_MYSQL_PORT);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这四处。可参照之前的wordpress for sae的此文件。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;重新压缩，保持格式&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_wordpress-2.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;即压缩目录里没有wordpress主目录，直接就是代码文件。&lt;/li&gt;
&lt;li&gt;在sae的应用管理中代码管理，上传代码包。等待ok。就成功了。&lt;/li&gt;
&lt;li&gt;这样之后会发现进不了仪表盘，直接输入xxx/wp-admin即可。会提示需要更新数据库，确认更新即可。&lt;/li&gt;
&lt;li&gt;如果仪表盘是英文去设置改正就好。&lt;/li&gt;
&lt;li&gt;插件虽然显示有安装，但实际不行，还是svn之后在本地安装插件在上传。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_wordpress-3.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;然后add，commit。ok。&lt;br&gt;安装主题也是同样的办法，因为没法直接在网站上操作sae的storage，只能在本地弄好之后提交，让文件覆盖。&lt;/li&gt;
&lt;li&gt;如上，我安装了jetpack插件。需要wordpress账户，这是墙外的，翻墙注册链接同意就好。然后进入主页会有强力启动很多功能，启动吧。然后查看所有功能，启用markdown就ok。&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;wordpress是一个很不错的博客系统，现在的各种支持也很好，能够很方便的建立一个不错的博客。&lt;br&gt;依托于新浪云，建立wordpress for sae，而且是最新版的wordpress，需要自己动手改一下，而不仅仅是使用wordpressforsae的模板。&lt;br&gt;
    
    </summary>
    
    
      <category term="sae" scheme="http://jacean.github.io/tags/sae/"/>
    
      <category term="wordpress" scheme="http://jacean.github.io/tags/wordpress/"/>
    
  </entry>
  
  <entry>
    <title>Eclipse参数是arg0</title>
    <link href="http://jacean.github.io/2016/03/24/Eclipse%E5%8F%82%E6%95%B0%E6%98%AFarg0/"/>
    <id>http://jacean.github.io/2016/03/24/Eclipse参数是arg0/</id>
    <published>2016-03-24T14:27:07.000Z</published>
    <updated>2016-03-24T14:37:06.267Z</updated>
    
    <content type="html">&lt;p&gt;Eclipse是一个很好的IDE，IDE能够帮助开发者快速编辑代码调试代码，这里就有代码补全的作用。代码补全，不仅仅是补全，还要能够根据函数本来的面目提供一定的指引，比如函数参数。&lt;br&gt;如果函数参数是arg0，arg1，那谁看都得懵逼不是，但是如果是postion，count，name之类的有语义的就大不一样了，很容易帮助开发者理解参数含义和使用对象。Eclipse就是可以这样的。&lt;br&gt;但是，有的人由于一些不恰当操作，会发现自己的Eclipse函数自动补全后，参数还真是arg0，arg1，这可就愁死人了。&lt;br&gt;我也遇到了，所以解决了。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;这是因为缺少源码文件，导致eclipse无法分析。需要下载source for android sdk。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-7.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;打开eclipse，定位到一个函数上，ctrl点击，出现绑定源代码文件的窗口，选择sources文件夹就好。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-8.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;应用后&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-10.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;get!&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Eclipse是一个很好的IDE，IDE能够帮助开发者快速编辑代码调试代码，这里就有代码补全的作用。代码补全，不仅仅是补全，还要能够根据函数本来的面目提供一定的指引，比如函数参数。&lt;br&gt;如果函数参数是arg0，arg1，那谁看都得懵逼不是，但是如果是postion，count，name之类的有语义的就大不一样了，很容易帮助开发者理解参数含义和使用对象。Eclipse就是可以这样的。&lt;br&gt;但是，有的人由于一些不恰当操作，会发现自己的Eclipse函数自动补全后，参数还真是arg0，arg1，这可就愁死人了。&lt;br&gt;我也遇到了，所以解决了。&lt;br&gt;
    
    </summary>
    
    
      <category term="Eclipse" scheme="http://jacean.github.io/tags/Eclipse/"/>
    
  </entry>
  
  <entry>
    <title>Android安装参考文档</title>
    <link href="http://jacean.github.io/2016/03/24/Android%E5%AE%89%E8%A3%85%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3/"/>
    <id>http://jacean.github.io/2016/03/24/Android安装参考文档/</id>
    <published>2016-03-24T14:21:01.000Z</published>
    <updated>2016-03-24T14:26:40.847Z</updated>
    
    <content type="html">&lt;p&gt;不管是开发什么产品，用什么语言开发，帮助文档总是必须的，开发android也当然是必须的。&lt;br&gt;有时候，装Eclipse配置android后，会发现没有文档，这个时候就需要自己重新搞一搞了。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;如果发现sdk目录下没有docs的话，可以在sdkmanager里下载。&lt;br&gt;注意，documention只在最新的版本下有,不要因为自己用哪个版本就去哪找，真的找不到。。。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_android-1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;下载后再本地浏览，切换版本就好。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_android-2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;OK!&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;不管是开发什么产品，用什么语言开发，帮助文档总是必须的，开发android也当然是必须的。&lt;br&gt;有时候，装Eclipse配置android后，会发现没有文档，这个时候就需要自己重新搞一搞了。&lt;br&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://jacean.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Eclipse打开genymotion模拟器的sd卡</title>
    <link href="http://jacean.github.io/2016/03/24/Eclipse%E6%89%93%E5%BC%80genymotion%E6%A8%A1%E6%8B%9F%E5%99%A8%E7%9A%84sd%E5%8D%A1/"/>
    <id>http://jacean.github.io/2016/03/24/Eclipse打开genymotion模拟器的sd卡/</id>
    <published>2016-03-24T11:32:11.000Z</published>
    <updated>2016-03-24T14:09:28.815Z</updated>
    
    <content type="html">&lt;p&gt;开发Android的时候，除了真机调试外，一个流畅的Android虚拟机可以提高开发体验，避免很多时候因为等待虚拟机而造成的烦躁。&lt;br&gt;genymotion模拟器是传说中最流畅的Android模拟器，想要开发Android必不可少的利器。&lt;br&gt;安装完genymotion后，在开发过程中，势必与模拟器中的文件要进行交互，怎么打开并使用模拟器中的SD卡，且见下文分晓。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;window-&amp;gt;&amp;gt;show view-&amp;gt;&amp;gt;Other，然后弹出ShowView对话框，选择Android-&amp;gt;&amp;gt;FileExplore，这样就可以看到文件浏览器了。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_Eclipse-1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;根据文件浏览器的提示确定SD的位置。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-3.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;使用位置&lt;br&gt;在指明路径的时候应该使用sdcard，而不是在浏览器中看到的真是路径。要替换为sdcard，否则找不到。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-4.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-5.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;交互&lt;br&gt;点击右上角&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_eclipse-6.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这样就OK了。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;开发Android的时候，除了真机调试外，一个流畅的Android虚拟机可以提高开发体验，避免很多时候因为等待虚拟机而造成的烦躁。&lt;br&gt;genymotion模拟器是传说中最流畅的Android模拟器，想要开发Android必不可少的利器。&lt;br&gt;安装完genymotion后，在开发过程中，势必与模拟器中的文件要进行交互，怎么打开并使用模拟器中的SD卡，且见下文分晓。&lt;br&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://jacean.github.io/tags/Android/"/>
    
      <category term="Eclipse" scheme="http://jacean.github.io/tags/Eclipse/"/>
    
      <category term="genymotion" scheme="http://jacean.github.io/tags/genymotion/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu状态栏显示网速CPU</title>
    <link href="http://jacean.github.io/2016/03/24/Ubuntu%E7%8A%B6%E6%80%81%E6%A0%8F%E6%98%BE%E7%A4%BA%E7%BD%91%E9%80%9FCPU/"/>
    <id>http://jacean.github.io/2016/03/24/Ubuntu状态栏显示网速CPU/</id>
    <published>2016-03-24T10:30:04.000Z</published>
    <updated>2016-03-24T10:43:13.287Z</updated>
    
    <content type="html">&lt;p&gt;作为系统操作的重要操作参数，网速和CPU占用等等，一直使用者所关心的。尤其是在需要下载或是上传文件的时候，对网速的关注可能会超出自己的想象，一直想要监视着网速。&lt;br&gt;所以，就找找能够在ubuntu状态栏上显示网速的插件程序。&lt;br&gt;&lt;a href=&quot;http://tieba.baidu.com/p/3005287033&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考文章找到了indicator-sysmonitor&lt;/a&gt;.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;下载indicator-sysmonitor&quot;&gt;&lt;a href=&quot;#下载indicator-sysmonitor&quot; class=&quot;headerlink&quot; title=&quot;下载indicator-sysmonitor&quot;&gt;&lt;/a&gt;下载indicator-sysmonitor&lt;/h3&gt;&lt;p&gt;这个软件需要一些依赖包，终端执行&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sudo apt-get install python python-psutil python-appindicator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然后下载indicator-sysmonitor的deb包。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;wget -c &lt;a href=&quot;https://launchpad.net/indicator-sysmonitor/trunk/4.0/+download/indicator-sysmonitor_0.4.3_all.deb&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://launchpad.net/indicator-sysmonitor/trunk/4.0/+download/indicator-sysmonitor_0.4.3_all.deb&lt;/a&gt;&lt;br&gt;sudo dpkg -i indicator-sysmonitor_0.4.3_all.deb&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装完毕。&lt;/p&gt;
&lt;h3 id=&quot;更改显示图标&quot;&gt;&lt;a href=&quot;#更改显示图标&quot; class=&quot;headerlink&quot; title=&quot;更改显示图标&quot;&gt;&lt;/a&gt;更改显示图标&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;由于软件默认显示图标是 sysmonitor.svg，而在 Ubuntu 14.04 64位系统中没有这个图标，这导致图标显示错误，很不美观。于是要把软件默认使用的图标改成一个存在的图标，当然也可以自己动手制作一个图标。但是系统中已经有很多图标了，找个好点的直接用上就行！&lt;br&gt;系统图标存放在：/usr/share/icons/Humanity/apps/ XX目录下（XX 为：128 16 192 22 24 32 48 64 中任一个，对应同一图标的不同尺寸，同一图标并不是每个尺寸都有）。打开/usr/share/icons/Humanity/apps/32 ，发现application-community.svg 还不错，所以我就用这个图标了！当然用其他的或者自己制作也是可以的！&lt;br&gt;找到喜欢的图标后，记下图标的文件名（不包括后缀），这里是 application-community，下面开始进行替换。终端执行命令：&lt;br&gt;sudo gedit /usr/bin/indicator-sysmonitor&lt;br&gt;将 724 行的 sysmonitor 改为刚才记下的 application-community&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;更改完毕后保存就行，然后运行indicator-sysmonitor，就可以在状态栏看到关于CPU和MEM信息。&lt;/p&gt;
&lt;h3 id=&quot;自动启动&quot;&gt;&lt;a href=&quot;#自动启动&quot; class=&quot;headerlink&quot; title=&quot;自动启动&quot;&gt;&lt;/a&gt;自动启动&lt;/h3&gt;&lt;p&gt;首先建立一个目录来存放启动文件。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;mkdir ~/.config/autostart&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然后，鼠标右键点击标题栏上的图标，弹出菜单，选择首选项。打钩&lt;em&gt;Run on startup&lt;/em&gt;,然后切换至Advanced，在sensor里选中net，然后点击添加，在输出栏里更改显示格式就好。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;cpu: {cpu} mem: {mem}net:{net}&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;启动程序&quot;&gt;&lt;a href=&quot;#启动程序&quot; class=&quot;headerlink&quot; title=&quot;启动程序&quot;&gt;&lt;/a&gt;启动程序&lt;/h3&gt;&lt;p&gt;如果在终端启动程序的话，当关闭终端后程序也就自动关闭了，所以可以在dash里搜索sysmonitor，然后点击启动就好。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;作为系统操作的重要操作参数，网速和CPU占用等等，一直使用者所关心的。尤其是在需要下载或是上传文件的时候，对网速的关注可能会超出自己的想象，一直想要监视着网速。&lt;br&gt;所以，就找找能够在ubuntu状态栏上显示网速的插件程序。&lt;br&gt;&lt;a href=&quot;http://tieba.baidu.com/p/3005287033&quot;&gt;参考文章找到了indicator-sysmonitor&lt;/a&gt;.&lt;br&gt;
    
    </summary>
    
    
      <category term="Ubuntu" scheme="http://jacean.github.io/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>PHPExcel操作sae的storage上的文件</title>
    <link href="http://jacean.github.io/2016/03/24/PHPExcel%E6%93%8D%E4%BD%9Csae%E7%9A%84storage%E4%B8%8A%E7%9A%84%E6%96%87%E4%BB%B6/"/>
    <id>http://jacean.github.io/2016/03/24/PHPExcel操作sae的storage上的文件/</id>
    <published>2016-03-24T04:38:33.000Z</published>
    <updated>2016-03-24T04:48:06.954Z</updated>
    
    <content type="html">&lt;p&gt;在用PHPexcel操作excel的时候，在本地是好使的，但是把代码部署到sae就不好使了。会遇到文件操作被拒绝的问题。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-2.png&quot; alt=&quot;文件操作被拒绝&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这个原因就是sae上的应用文件是不允许改动的。sae提供的文件方案是使用storage，所以可以把文件存储在storage来进行操作。&lt;br&gt;具体解决可以如下：&lt;br&gt;我在sae应用里新建一个domain域files（这个名字必须是小写字母或数字，如果是大写字母的话虽然可以在Cyberduck上新建成功，在domain管理里看到，但是是无效的domain）。在这个files下新建文件夹Files，然后把要操作的excel上传。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-3.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-4.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;如上。&lt;br&gt;我对excel的操作代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$file_name=&lt;span class=&quot;string&quot;&gt;&quot;Files/info.xls&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel=PHPExcel_IOFactory::load($file_name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;setActiveSheetIndex(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$row=$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getHighestRow()+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;A&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputName&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;B&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputClass&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputEmail&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;D&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputJob&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;E&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputTel&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objWriter=newPHPExcel_Writer_Excel5($objPHPExcel);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objWriter-&amp;gt;save($file_name);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;执行的是在info.xls的末尾添加一行。&lt;br&gt;修改之后的代码如下;&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$file_name=&lt;span class=&quot;string&quot;&gt;&#39;saestor://files/Files/info.xls&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel=PHPExcel_IOFactory::load($file_name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;setActiveSheetIndex(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$row=$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getHighestRow()+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;A&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputName&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;B&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputClass&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputEmail&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;D&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputJob&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;E&#39;&lt;/span&gt;.$row,$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputTel&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objWriter=newPHPExcel_Writer_Excel5($objPHPExcel);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objWriter-&amp;gt;save($file_name);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以看到，修改的只是文件路径。然后操作就完全没有问题了。&lt;br&gt;问题解决了，接下来我要扯扯怎么找到的办法。&lt;br&gt;刚开始说要用storage，好，我就去sae官网看storage文档，结果，说的什么鬼，没有收获。&lt;br&gt;毕竟我要找的重点是storage文件的存储路径，文档里说的是整个元素级的处理。&lt;br&gt;只有一句：&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-5.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;这个还是在介绍文档里说的。&lt;br&gt;既然如此，我就先上传文件来试试呗。域和文件结构已建好。&lt;a href=&quot;http://cloudbbs.org/forum.php?mod=viewthread&amp;amp;tid=23708&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;代码参考&lt;/a&gt;里的7楼作者回答。&lt;br&gt;上传文件代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;metacharset=&lt;span class=&quot;string&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;formaction=&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;method=&lt;span class=&quot;string&quot;&gt;&quot;post&quot;&lt;/span&gt;enctype=&lt;span class=&quot;string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;inputtype=&lt;span class=&quot;string&quot;&gt;&quot;file&quot;&lt;/span&gt;name=&lt;span class=&quot;string&quot;&gt;&quot;file&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;inputtype=&lt;span class=&quot;string&quot;&gt;&quot;submit&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;($_FILES[&lt;span class=&quot;string&quot;&gt;&#39;file&#39;&lt;/span&gt;]!=&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$storage=newSaeStorage();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$domain=&lt;span class=&quot;string&quot;&gt;&#39;files&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$dest=&lt;span class=&quot;string&quot;&gt;&#39;Files/&#39;&lt;/span&gt;.$_FILES[&lt;span class=&quot;string&quot;&gt;&#39;file&#39;&lt;/span&gt;][&lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$src=$_FILES[&lt;span class=&quot;string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;string&quot;&gt;&quot;tmp_name&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$storage-&amp;gt;upload($domain,$dest,$src);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$url=$storage-&amp;gt;getUrl($domain,$dest);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;网址：$url&amp;lt;br/&amp;gt;&amp;lt;imgsrc=&#39;$url&#39;/&amp;gt;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以看到返回的地址是：&lt;a href=&quot;http://dutcircle-files.stor.sinaapp.com/Files/实验.png&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dutcircle-files.stor.sinaapp.com/Files/实验.png&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-6.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;在应用管理里也可以看到文件是已经上传好了的。&lt;br&gt;再尝试打开下：&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;metacharset=&lt;span class=&quot;string&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;formaction=&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;method=&lt;span class=&quot;string&quot;&gt;&quot;post&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;inputtype=&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt;name=&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;inputtype=&lt;span class=&quot;string&quot;&gt;&quot;submit&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;($_POST[&lt;span class=&quot;string&quot;&gt;&#39;text&#39;&lt;/span&gt;]!=&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$storage=newSaeStorage();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$domain=&lt;span class=&quot;string&quot;&gt;&#39;files&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$dest=&lt;span class=&quot;string&quot;&gt;&#39;Files/&#39;&lt;/span&gt;.$_POST[&lt;span class=&quot;string&quot;&gt;&#39;text&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$url=$storage-&amp;gt;getUrl($domain,$dest);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;网址：$url&amp;lt;br/&amp;gt;&amp;lt;imgsrc=&#39;$url&#39;/&amp;gt;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以看到，可以通过这个url来获取文件。&lt;br&gt;但是，直接把这个url用来操作excel，&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$objExcel=newPHPExcel();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$storage=newSaeStorage();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$domain=&lt;span class=&quot;string&quot;&gt;&#39;files&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$dest=&lt;span class=&quot;string&quot;&gt;&#39;Files/info.xls&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$url=$storage-&amp;gt;getUrl($domain,$dest);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$file_name=$url;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//http://dutcircle-files.stor.sinaapp.com/Files/info.xls&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$file_name=&lt;span class=&quot;string&quot;&gt;&#39;saestor://files/Files/info.xls&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel=PHPExcel_IOFactory::load($file_name);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;是不对的，会报错，找不到这个文件。&lt;br&gt;所以得换个&lt;a href=&quot;http://saebbs.com/forum.php?mod=viewthread&amp;amp;tid=9456&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;方法&lt;/a&gt;&lt;br&gt;虽然提的问题和我不一样，但人家已经解决了我的问题。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-7.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;修改代码，至此，大功告成。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在用PHPexcel操作excel的时候，在本地是好使的，但是把代码部署到sae就不好使了。会遇到文件操作被拒绝的问题。&lt;br&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-2.png&quot; alt=&quot;文件操作被拒绝&quot;&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="PHPExcel" scheme="http://jacean.github.io/tags/PHPExcel/"/>
    
      <category term="PHP" scheme="http://jacean.github.io/tags/PHP/"/>
    
      <category term="sae" scheme="http://jacean.github.io/tags/sae/"/>
    
  </entry>
  
  <entry>
    <title>PHPExcel上传sae遇到:-1:fail_to_get_xml_content</title>
    <link href="http://jacean.github.io/2016/03/24/PHPExcel%E4%B8%8A%E4%BC%A0sae%E9%81%87%E5%88%B0-1-fail-to-get-xml-content/"/>
    <id>http://jacean.github.io/2016/03/24/PHPExcel上传sae遇到-1-fail-to-get-xml-content/</id>
    <published>2016-03-24T04:26:25.000Z</published>
    <updated>2016-03-24T04:35:53.216Z</updated>
    
    <content type="html">&lt;p&gt;在用PHPExcel1.8.0来处理excel时，本地测试时好使的，但是要把代码部署到SAE，在上传代码的时候就会遇到这个问题。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;部署代码中遇到问题: -1:fail to get xml content&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在网上查了下，好多人在用wordpress和weiPHP的时候也遇到了这个问题，解决办法是，用wordpress for sae，weiPHP也是修改那什么代码，对PHPExcel没什么参考价值。暂时我也不知道这个问题对自己的应用有什么影响，所以暂且略过。&lt;br&gt;在结束部署之后，访问页面的时候，在需要excel处理的地方，就会报错.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;http://7xrtyi.com1.z0.glb.clouddn.com/hexoBlog_img_sae-1.png&quot; alt=&quot;错误截图&quot;&gt;&lt;/p&gt;
&lt;p&gt;报错说是找不到XMLWriter这个类。我在PHPExcel的源代码里找，也确实没有找到这个类的定义，只有对这个类的扩展。&lt;br&gt;这应该就是之前那个错误造成的影响。&lt;br&gt;网上有人说这个问题是PHP的版本不支持，我信了。&lt;br&gt;去sae的应用管理里看了下，是PHP5.3，版本不支持应该是版本太旧了吧，所以我就删掉了旧的应用，新建了个PHP5.6的应用。但是上传代码，还是fail to get xml content这个问题。我就呵呵了。&lt;br&gt;有人说，上传代码包有问题，就有吧，部署后在本地把正确代码用git或svn提交下。我半信半疑，试了下，果然没什么用。&lt;br&gt;有人说，要把Excel2007改成Excel5，我信了。我就去把代码改了，然后把excel文档的格式也从xlsx改成了xls来适配。结果还是报没找到XMLWriter这个错。&lt;br&gt;百度不行，我用google，结果又遇到相同问题的人，但没有解决办法的答案。在我一筹莫展的时候，终于找到了一个可以参考的办法。&lt;br&gt;来源是&lt;a href=&quot;http://www.thinkphp.cn/topic/12201.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Thinkphp中的回答&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;错误为：Class ‘XMLWriter’ not found&lt;br&gt;FILE: ThinkPHP/Extend/Vendor/Excel/PHPExcel/Shared/XMLWriter.php 　LINE: 44&lt;br&gt;检查了下，本地一切正常。本地php扩展有xmlwriter，saw扩展有xml。请教如何破？jorbin2014年06月30日&lt;br&gt;只要phpexcel的版本支持xml扩展即可，我用的是1.7.2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如上，解决办法是要PHPExcel的版本支持xml扩展。我信了，所以我就去PHPexcel那里下了个他说好使的1.7.2版本。然后删除掉代码里原有的1.8.0，替换成了1.7.2。代码里的一切也都保持是Excel5。然后重新用git提交，把新代码提交上去。这么一来，果然没有报找不到XMLWriter的错了。&lt;br&gt;但是又报了一个找不到写excel5的类的问题。同样的，我现在源代码里按规律找有没有这个类，还真有，直接包含引用就行了。再一试果然没这个问题了。开心。（应该会有一个新的错误，就是对文件的读写错误，如果和我一样之前并没有意识到sae使用storage来处理文件的话，这个问题在另一篇里解决）&lt;br&gt;总结下，就我上传使用PHPexcel的应用遇到的这个问题可能是PHPExcel的版本问题吧。所以我们得规避这个问题，用一个支持扩展xml的版本。也就是1.7.2(测试好用)。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在用PHPExcel1.8.0来处理excel时，本地测试时好使的，但是要把代码部署到SAE，在上传代码的时候就会遇到这个问题。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;部署代码中遇到问题: -1:fail to get xml content&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在网上查了下，好多人在用wordpress和weiPHP的时候也遇到了这个问题，解决办法是，用wordpress for sae，weiPHP也是修改那什么代码，对PHPExcel没什么参考价值。暂时我也不知道这个问题对自己的应用有什么影响，所以暂且略过。&lt;br&gt;在结束部署之后，访问页面的时候，在需要excel处理的地方，就会报错.&lt;/p&gt;
    
    </summary>
    
    
      <category term="PHPExcel" scheme="http://jacean.github.io/tags/PHPExcel/"/>
    
      <category term="PHP" scheme="http://jacean.github.io/tags/PHP/"/>
    
      <category term="sae" scheme="http://jacean.github.io/tags/sae/"/>
    
  </entry>
  
  <entry>
    <title>PHPExcel追加一行</title>
    <link href="http://jacean.github.io/2016/03/24/PHPExcel%E8%BF%BD%E5%8A%A0%E4%B8%80%E8%A1%8C/"/>
    <id>http://jacean.github.io/2016/03/24/PHPExcel追加一行/</id>
    <published>2016-03-24T04:12:57.000Z</published>
    <updated>2016-03-24T04:25:35.235Z</updated>
    
    <content type="html">&lt;p&gt;有项目需要用PHP操作excel，于是就找到了PHPExcel这个库，简单的使用了下。写入还是很方便的，但是我在追加一行的时候遇到了问题，总是会出现追加后只有追加的那一行，而原本的就没有了。&lt;br&gt;把好使的代码记下。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** Include PHPExcel */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;require_once&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Classes/PHPExcel.php&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;require_once&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Classes/PHPExcel/IOFactory.php&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel = PHPExcel_IOFactory::load(&lt;span class=&quot;string&quot;&gt;&quot;myfile.xlsx&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;setActiveSheetIndex(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$row = $objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getHighestRow()+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//echo $row;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;A&#39;&lt;/span&gt;.$row, $_POST[&lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;B&#39;&lt;/span&gt;.$row, $_POST[&lt;span class=&quot;string&quot;&gt;&#39;email&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt;.$row, $_POST[&lt;span class=&quot;string&quot;&gt;&#39;phone&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;D&#39;&lt;/span&gt;.$row, $_POST[&lt;span class=&quot;string&quot;&gt;&#39;city&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;E&#39;&lt;/span&gt;.$row, $_POST[&lt;span class=&quot;string&quot;&gt;&#39;kid1&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;SetCellValue(&lt;span class=&quot;string&quot;&gt;&#39;F&#39;&lt;/span&gt;.$row, $_POST[&lt;span class=&quot;string&quot;&gt;&#39;kid2&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objWriter = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PHPExcel_Writer_Excel2007($objPHPExcel);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objWriter-&amp;gt;save(&lt;span class=&quot;string&quot;&gt;&#39;myfile.xlsx&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这样是好使的。&lt;br&gt;来份错误的。&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$php_writer=newPHPExcel_Writer_Excel2007();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$php_excel_obj=$php_writer-&amp;gt;getPHPExcel($file_name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$current_sheet=$php_excel_obj-&amp;gt;getSheet(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$all_column=$current_sheet-&amp;gt;getHighestColumn();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$all_row=$current_sheet-&amp;gt;getHighestDataRow();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$letter=&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;A&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;B&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;D&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;E&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$data=&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;($_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputName&#39;&lt;/span&gt;],$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputClass&#39;&lt;/span&gt;],$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputEmail&#39;&lt;/span&gt;],$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputJob&#39;&lt;/span&gt;],$_POST[&lt;span class=&quot;string&quot;&gt;&#39;inputTel&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objReader=PHPExcel_IOFactory::createReader(&lt;span class=&quot;string&quot;&gt;&quot;Excel2007&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$info=$objReader-&amp;gt;listWorksheetInfo($file_name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$row=$info[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;string&quot;&gt;&#39;totalRows&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$all_row=$row;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$x=$all_row+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;($i=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;$i&amp;lt;count($data);$i++)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$current_sheet-&amp;gt;setCellValue(&lt;span class=&quot;string&quot;&gt;&quot;$letter[$i]$x&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;$data[$i]&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$write=newPHPExcel_Writer_Excel2007($php_excel_obj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Pragma:public&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Expires:0&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Cache-Control:must-revalidate,post-check=0,pre-check=0&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Content-Type:application/force-download&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Content-Type:application/vnd.ms-execl&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Content-Type:application/octet-stream&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Content-Type:application/download&quot;&lt;/span&gt;);;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&#39;Content-Disposition:attachment;filename=&quot;testdata.xls&quot;&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;header(&lt;span class=&quot;string&quot;&gt;&quot;Content-Transfer-Encoding:binary&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$write-&amp;gt;save($file_name);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这个最后的结果就是只会写入最新的，而原有的不见了。即使读进去再写也不好使。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;有项目需要用PHP操作excel，于是就找到了PHPExcel这个库，简单的使用了下。写入还是很方便的，但是我在追加一行的时候遇到了问题，总是会出现追加后只有追加的那一行，而原本的就没有了。&lt;br&gt;把好使的代码记下。&lt;br&gt;
    
    </summary>
    
    
      <category term="PHPExcel" scheme="http://jacean.github.io/tags/PHPExcel/"/>
    
      <category term="PHP" scheme="http://jacean.github.io/tags/PHP/"/>
    
      <category term="SAE" scheme="http://jacean.github.io/tags/SAE/"/>
    
  </entry>
  
  <entry>
    <title>自旋锁和互斥锁</title>
    <link href="http://jacean.github.io/2016/03/23/%E8%87%AA%E6%97%8B%E9%94%81%E5%92%8C%E4%BA%92%E6%96%A5%E9%94%81/"/>
    <id>http://jacean.github.io/2016/03/23/自旋锁和互斥锁/</id>
    <published>2016-03-23T15:31:48.000Z</published>
    <updated>2016-03-23T15:50:38.320Z</updated>
    
    <content type="html">&lt;p&gt;为了解决对共享资源的互斥使用，出现了一些锁机制。比如，自旋锁和互斥锁。&lt;br&gt;自旋锁和互斥锁很类似，在任何时刻，最多只能有一个保持者，也就说，在任何时刻最多只能有一个执行单元获得锁。但是两者在调度机制上略有不同。对于互斥锁，如果资源已经被占用，资源申请者只能进入睡眠状态。但是自旋锁不会引起调用者睡眠，如果自旋锁已经被别的执行单元保持，调用者就一直循环在那里看是否该自旋锁的保持者已经释放了锁，”自旋”一词就是因此而得名。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;自旋锁，曾经有个经典的例子来比喻自旋锁：A，B两个人合租一套房子，共用一个厕所，那么这个厕所就是共享资源，且在任一时刻最多只能有一个人在使用。当厕所闲置时，谁来了都可以使用，当A使用时，就会关上厕所门，而B也要使用，但是急啊，就得在门外焦急地等待，急得团团转，是为“自旋”。&lt;br&gt;百度百科：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;跟互斥锁一样，一个执行单元要想访问被自旋锁保护的共享资源，必须先得到锁，在访问完共享资源后，必须释放锁。如果在获取自旋锁时，没有任何执行单元保持该锁，那么将立即得到锁；如果在获取自旋锁时锁已经有保持者，那么获取锁操作将自旋在那里，直到该自旋锁的保持者释放了锁。由此我们可以看出，自旋锁是一种比较低级的保护数据结构或代码片段的原始方式，这种锁可能存在两个问题：&lt;br&gt;死锁。试图递归地获得自旋锁必然会引起死锁：递归程序的持有实例在第二个实例循环，以试图获得相同自旋锁时，不会释放此自旋锁。在递归程序中使用自旋锁应遵守下列策略：递归程序决不能在持有自旋锁时调用它自己，也决不能在递归调用时试图获得相同的自旋锁。此外如果一个进程已经将资源锁定，那么，即使其它申请这个资源的进程不停地疯狂“自旋”,也无法获得资源，从而进入死循环。&lt;br&gt;过多占用cpu资源。如果不加限制，由于申请者一直在循环等待，因此自旋锁在锁定的时候,如果不成功,不会睡眠,会持续的尝试,单cpu的时候自旋锁会让其它process动不了. 因此，一般自旋锁实现会有一个参数限定最多持续尝试次数. 超出后, 自旋锁放弃当前time slice. 等下一次机会&lt;br&gt;由此可见，自旋锁比较适用于锁使用者保持锁时间比较短的情况。正是由于自旋锁使用者一般保持锁时间非常短，因此选择自旋而不是睡眠是非常必要的，自旋锁的效率远高于互斥锁。信号量和读写信号量适合于保持时间较长的情况，它们会导致调用者睡眠，因此只能在进程上下文使用，而自旋锁适合于保持时间非常短的情况，它可以在任何上下文使用。如果被保护的共享资源只在进程上下文访问，使用信号量保护该共享资源非常合适，如果对共享资源的访问时间非常短，自旋锁也可以。但是如果被保护的共享资源需要在中断上下文访问（包括底半部即中断处理句柄和顶半部即软中断），就必须使用自旋锁。自旋锁保持期间是抢占失效的，而信号量和读写信号量保持期间是可以被抢占的。自旋锁只有在内核可抢占或SMP（多处理器）的情况下才真正需要，在单CPU且不可抢占的内核下，自旋锁的所有操作都是空操作。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/swordmanwk/article/details/6819457&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;自旋锁(spin lock)与互斥量(mutex)的比较——多核编程学习笔记2&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;自旋锁是一种非阻塞锁，也就是说，如果某线程需要获取自旋锁，但该锁已经被其他线程占用时，该线程不会被挂起，而是在不断的消耗CPU的时间，不停的试图获取自旋锁。&lt;br&gt;互斥量是阻塞锁，当某线程无法获取互斥量时，该线程会被直接挂起，该线程不再消耗CPU时间，当其他线程释放互斥量后，操作系统会激活那个被挂起的线程，让其投入运行。&lt;br&gt;两种锁适用于不同场景：&lt;br&gt;如果是多核处理器，如果预计线程等待锁的时间很短，短到比线程两次上下文切换时间要少的情况下，使用自旋锁是划算的。&lt;br&gt;如果是多核处理器，如果预计线程等待锁的时间较长，至少比两次线程上下文切换的时间要长，建议使用互斥量。&lt;br&gt;如果是单核处理器，一般建议不要使用自旋锁。因为，在同一时间只有一个线程是处在运行状态，那如果运行线程发现无法获取锁，只能等待解锁，但因为自身不挂起，所以那个获取到锁的线程没有办法进入运行状态，只能等到运行线程把操作系统分给它的时间片用完，才能有机会被调度。这种情况下使用自旋锁的代价很高。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;自旋锁实际上是忙等锁(一直刷新等待),也可能导致系统死锁(递归调用)。&lt;br&gt;互斥锁实际的效率还是可以让人接受的，加锁的时间大概100ns左右，而实际上互斥锁的一种可能的实现是先自旋一段时间，当自旋的时间超过阀值之后再将线程投入睡眠中，因此在并发运算中使用互斥锁（每次占用锁的时间很短）的效果可能不亚于使用自旋锁。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;为了解决对共享资源的互斥使用，出现了一些锁机制。比如，自旋锁和互斥锁。&lt;br&gt;自旋锁和互斥锁很类似，在任何时刻，最多只能有一个保持者，也就说，在任何时刻最多只能有一个执行单元获得锁。但是两者在调度机制上略有不同。对于互斥锁，如果资源已经被占用，资源申请者只能进入睡眠状态。但是自旋锁不会引起调用者睡眠，如果自旋锁已经被别的执行单元保持，调用者就一直循环在那里看是否该自旋锁的保持者已经释放了锁，”自旋”一词就是因此而得名。&lt;br&gt;
    
    </summary>
    
    
      <category term="操作系统" scheme="http://jacean.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript闭包</title>
    <link href="http://jacean.github.io/2016/03/23/JavaScript%E9%97%AD%E5%8C%85/"/>
    <id>http://jacean.github.io/2016/03/23/JavaScript闭包/</id>
    <published>2016-03-23T03:59:07.000Z</published>
    <updated>2016-04-02T13:15:24.908Z</updated>
    
    <content type="html">&lt;p&gt;在那次面.NET却问前端的面试，被问到了js的闭包。虽然这个经常听到，但是具体是什么样的还真不太清楚，所以就直接说了不知道。&lt;br&gt;吃一堑长一智，今天就好好来学习下js的闭包。万一再碰到这种奇葩咋办。&lt;br&gt;闭包，函数可以使用函数之外定义的变量，具体说，闭包中的函数可以‘记忆’它创建时候的环境。&lt;br&gt;一个闭包就是一个使用了外部变量的函数。&lt;br&gt;参考文章&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;闭包&lt;/a&gt;,例子借用此文，加注个人看法。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Update-16-04-04&quot;&gt;&lt;a href=&quot;#Update-16-04-04&quot; class=&quot;headerlink&quot; title=&quot;Update 16.04.04&quot;&gt;&lt;/a&gt;Update 16.04.04&lt;/h3&gt;&lt;p&gt;项目运用闭包。&lt;br&gt;在js给html的元素添加事件的时候，需要指定对象。一般直接指定就ok。但是当循环指定的时候，你的函数指定了，但是里面涉及到循环的变量却并没有固定，它还会随着循环一直变化，在你调用的时候发现根本不好使了。&lt;br&gt;这时候就需要闭包了。&lt;br&gt;下边是进行微信开发时，为了给每一个ｍａｒｋｅｒ添加点击事件而写的代码。&lt;br&gt;在循环中使用注释代码，那么在触发事件的时候，不会有执行，跟踪调试就会发现，原来此时的ｌａｂｅｌ是label[label.length],这么一个不存在的对象，那么自然也无法执行了。究其原因，就是因为事件绑定的时候只是给了事件函数，但是在触发调用的时候里面的值以及变了，变成了循环最后的值，这才导致整个事件执行失败。&lt;br&gt;解决办法就是在绑定函数的时候，把变量给固化在函数里，这样循环也不会影响函数内变量的值，这就需要用到闭包。&lt;/p&gt;
&lt;p&gt;‘’’JavaScript&lt;/p&gt;
&lt;p&gt;//闭包函数&lt;br&gt;function markerChangeVisible(marker,map){&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;return function(){
    marker.setMap(map);
    if(marker.getVisible()){
        marker.setVisible(false);
    }else{
        marker.setVisible(true);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt; }&lt;/p&gt;
&lt;p&gt;for(var i=0;i&amp;lt;makers.length;i++){&lt;br&gt;        var m=makers[i];&lt;br&gt;        var lable=labels[i];&lt;br&gt;        //闭包&lt;br&gt;        qq.maps.event.addListener(m,”click”,markerChangeVisible(lable,map));&lt;br&gt;        //qq.maps.event.addListener(m,”click”,function(){&lt;br&gt;        //    //alert(m.getTitle());&lt;br&gt;        //    if (label.getVisible()) {&lt;br&gt;        //        label.setVisible(false);&lt;br&gt;        //    } else {&lt;br&gt;        //        label.setVisible(true);&lt;br&gt;        //    }&lt;br&gt;        //});&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;‘’’&lt;/p&gt;
&lt;h3 id=&quot;原理浅读&quot;&gt;&lt;a href=&quot;#原理浅读&quot; class=&quot;headerlink&quot; title=&quot;原理浅读&quot;&gt;&lt;/a&gt;原理浅读&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;init&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; name=&lt;span class=&quot;string&quot;&gt;&quot;jacean&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;display&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    display();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;init();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;jacean&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这个例子中，name并没有在display中定义，但是却使用了外部的name。这实质上就是init函数组成了一个闭包。闭包是一种特殊的对象。它由两部分构成：函数，以及创建该函数的环境。环境由闭包创建时在作用域中的任何局部变量组成。在我们的例子中，init() 是一个闭包，由 display 函数和闭包创建时存在的 “jacean” 字符串形成。&lt;br&gt;如果&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;init&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; name=&lt;span class=&quot;string&quot;&gt;&quot;jacean&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;display&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;   display();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; fun=init();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fun();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这样的话就会看到输出同样的结果。在fun函数创建的时候，init了一个闭包，闭包里包含name参数和函数display，这就是创建时的环境。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;makeAdder&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;y&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; x + y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; add5 = makeAdder(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; add10 = makeAdder(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(add5(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;));  &lt;span class=&quot;comment&quot;&gt;// 7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(add10(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)); &lt;span class=&quot;comment&quot;&gt;// 12&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;在这个示例中，我们定义了 makeAdder(x) 函数：带有一个参数 x 并返回一个新的函数。返回的函数带有一个参数 y，并返回 x 和 y 的和。&lt;br&gt;从本质上讲，makeAdder 是一个函数工厂 — 创建将指定的值和它的参数求和的函数，在上面的示例中，我们使用函数工厂创建了两个新函数 — 一个将其参数和 5 求和，另一个和 10 求和。&lt;br&gt;add5 和 add10 都是闭包。它们共享相同的函数定义，但是保存了不同的环境。在 add5 的环境中，x 为 5。而在 add10 中，x 则为 10。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这个例子中可以看出，在声明add5和add10的时候，makeAdder已经利用参数5和10分别创建了两个实例闭包，虽然是同一个函数定义，但是却因为参数不同保存了不同的环境，在内部函数执行的时候，使用的参数也不同。&lt;/p&gt;
&lt;p&gt;可以看出，闭包是允许将函数与其所操作的某些数据环境关联起来，根据不同的需要环境执行不同的操作。而这个操作区别并不在函数定义之内，完全尤其所在环境决定，有使用者轻易支配，避免了对环境复杂的分析转化，很有用。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;function makeSizer(size) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  return function() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    document.body.style.fontSize = size + &#39;px&#39;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var size12 = makeSizer(12);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var size14 = makeSizer(14);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var size16 = makeSizer(16);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;document.getElementById(&#39;size-12&#39;).onclick = size12;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;document.getElementById(&#39;size-14&#39;).onclick = size14;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;document.getElementById(&#39;size-16&#39;).onclick = size16;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;a href=&quot;#&quot; id=&quot;size-12&quot;&amp;gt;12&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;a href=&quot;#&quot; id=&quot;size-14&quot;&amp;gt;14&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;a href=&quot;#&quot; id=&quot;size-16&quot;&amp;gt;16&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以看出，这样避免了事件响应时执行函数不同而需要重新声明的麻烦。onclik需要一个方法，这个方法是不能有参数的对吧，所以你不能通过给一个普通函数传递参数的方法实现3次不同的调用，但通过闭包返回函数，确实做到了这一步。这的确是很大的简化。&lt;/p&gt;
&lt;p&gt;有一个常见错误是在循环中创建闭包。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;showHelp&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;help&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;).innerHTML = help;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setupHelp&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; helpText = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;email&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;Your e-mail address&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;Your full name&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;age&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;Your age (you must be over 16)&#39;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; helpText.length; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; item = helpText[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(item.id).onfocus = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      showHelp(item.help);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;setupHelp();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;虽然乍看起来没有错误，但是执行起来并不会有期望的效果。&lt;br&gt;在onfoucs的回调被执行的时候，循环早已完成，此时item已经指向了最后一项，所以结果是3个点击显示的都是最后一个。&lt;br&gt;原因就在于赋给onfoucs的是匿名函数而不是闭包对象，匿名函数共享同一个环境item，而item在循环中可变，并没有固定值在匿名函数中。&lt;br&gt;可以通过使onfocus指向一个新的闭包对象，通过闭包对象记忆创建环境的特征，把item固化。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;showHelp&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;help&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;).innerHTML = help;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;makeHelpCallback&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;help&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    showHelp(help);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setupHelp&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; helpText = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;email&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;Your e-mail address&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;Your full name&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;age&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;Your age (you must be over 16)&#39;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; helpText.length; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; item = helpText[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(item.id).onfocus = makeHelpCallback(item.help);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;setupHelp();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;这段代码可以如我们所期望的那样工作。所有的回调不再共享同一个环境， makeHelpCallback 函数为每一个回调创建一个新的环境。在这些环境中，help 指向 helpText 数组中对应的字符串。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;以上，闭包可以看做是固化函数创建时环境的一种手段，可以有效的简化因为不同参数需求而又不能有参数设定的地方,又能够有效避免可变量对参数的影响。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在那次面.NET却问前端的面试，被问到了js的闭包。虽然这个经常听到，但是具体是什么样的还真不太清楚，所以就直接说了不知道。&lt;br&gt;吃一堑长一智，今天就好好来学习下js的闭包。万一再碰到这种奇葩咋办。&lt;br&gt;闭包，函数可以使用函数之外定义的变量，具体说，闭包中的函数可以‘记忆’它创建时候的环境。&lt;br&gt;一个闭包就是一个使用了外部变量的函数。&lt;br&gt;参考文章&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures&quot;&gt;闭包&lt;/a&gt;,例子借用此文，加注个人看法。&lt;br&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://jacean.github.io/tags/JavaScript/"/>
    
  </entry>
  
</feed>
